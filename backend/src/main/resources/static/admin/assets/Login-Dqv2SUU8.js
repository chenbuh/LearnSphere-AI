import{_ as v,u as _,a as w,r as p,c as N,b as r,d as s,w as t,e as l,f as m,B as y,g as b,N as h,h as k,o as x}from"./index-ZUQ6VXyz.js";import{N as B,a as c}from"./FormItem-tc1_u1vB.js";import{N as f}from"./Input-DIY420FM.js";const I={class:"login-page"},L={class:"login-container"},S={__name:"Login",setup(C){const g=_(),n=w(),u=p(!1),e=p({username:"",password:""}),d=async()=>{if(!e.value.username||!e.value.password){n.warning("è¯·è¾“å…¥è´¦å·å’Œå¯†ç ");return}u.value=!0;try{const o=await k.login(e.value);localStorage.setItem("admin-token",o.data.token),localStorage.setItem("admin-info",JSON.stringify(o.data.admin)),n.success("ç™»å½•æˆåŠŸ"),g.push("/dashboard")}catch(o){n.error(o.message||"ç™»å½•å¤±è´¥")}finally{u.value=!1}};return(o,a)=>(x(),N("div",I,[r("div",L,[a[3]||(a[3]=r("div",{class:"login-header"},[r("h1",null,"ðŸ“š LearnSphere"),r("p",null,"ç®¡ç†åŽå°ç™»å½•")],-1)),s(l(h),{class:"login-card",bordered:!1},{default:t(()=>[s(l(B),{model:e.value,"label-placement":"left",size:"large"},{default:t(()=>[s(l(c),{label:"è´¦å·"},{default:t(()=>[s(l(f),{value:e.value.username,"onUpdate:value":a[0]||(a[0]=i=>e.value.username=i),placeholder:"è¯·è¾“å…¥ç®¡ç†å‘˜è´¦å·",onKeyup:m(d,["enter"])},null,8,["value"])]),_:1}),s(l(c),{label:"å¯†ç "},{default:t(()=>[s(l(f),{value:e.value.password,"onUpdate:value":a[1]||(a[1]=i=>e.value.password=i),type:"password","show-password-on":"click",placeholder:"è¯·è¾“å…¥å¯†ç ",onKeyup:m(d,["enter"])},null,8,["value"])]),_:1}),s(l(y),{type:"primary",block:"",size:"large",loading:u.value,onClick:d,class:"login-btn"},{default:t(()=>[...a[2]||(a[2]=[b(" ç™»å½• ",-1)])]),_:1},8,["loading"])]),_:1},8,["model"])]),_:1})])]))}},F=v(S,[["__scopeId","data-v-fea28f98"]]);export{F as default};
