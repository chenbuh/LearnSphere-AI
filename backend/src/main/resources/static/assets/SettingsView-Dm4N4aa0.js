import{_ as I,b as $,u as L}from"./index-CZUTEx94.js";import{d as O,U as T,a as q,L as D,am as F}from"./lucide-DtS2HtB5.js";import{a6 as G,r as g,w as C,I as w,z as f,F as s,s as t,q as n,a3 as _,u as l,$ as P,a1 as k,aq as U,aS as b,K as p,H as c,Z as H,X as S,ab as y}from"./naive-ui-CN0IOFzZ.js";import"./echarts-5QPu3XI4.js";const K={class:"page-container"},M={class:"settings-layout"},X={class:"icon-box"},Z={class:"icon-box"},j={class:"icon-box"},J={class:"icon-box"},Q={key:0,class:"settings-panel"},W={class:"setting-group"},Y={class:"setting-item"},h={class:"control"},ss={class:"setting-item"},es={class:"control"},ls={class:"setting-group"},ts={class:"setting-item"},as={class:"control"},os={class:"setting-group no-border"},is={class:"setting-item"},ns={class:"control"},ds={class:"panel-footer"},us={key:1,class:"settings-panel"},rs={class:"setting-group"},vs={class:"profile-preview"},ps={class:"profile-info"},cs={class:"username"},ms={class:"email"},gs={class:"setting-group"},ws={class:"form-item"},fs={class:"form-item"},bs={class:"setting-group"},ys={class:"form-item"},_s={class:"form-item"},ks={class:"panel-footer"},Cs={key:2,class:"settings-panel"},Ps={class:"setting-group"},Us={class:"setting-item"},Ss={class:"control"},Ns={class:"setting-item"},xs={class:"control"},zs={class:"setting-item"},As={class:"control"},Rs={class:"panel-footer"},Vs={__name:"SettingsView",setup(Bs){const v=G(),d=$(),N=L(),i=g("general"),u=g({theme:"dark",language:"zh-CN",autoPlayAudio:!0,soundEffects:!0}),r=g({emailAlerts:!0,studyReminders:!0,weeklyReport:!0}),o=g({username:d.username,email:d.email,currentPassword:"",newPassword:""});C(()=>d.username,m=>{o.value.username=m}),C(()=>d.email,m=>{o.value.email=m});const x=[{label:"深色模式 (Dark)",value:"dark"},{label:"浅色模式 (Light)",value:"light"},{label:"跟随系统",value:"system"}],z=[{label:"简体中文",value:"zh-CN"},{label:"English",value:"en-US"}],A=()=>{v.success("通用设置已保存")},R=()=>{v.success("通知设置已更新")},V=()=>{if(!o.value.currentPassword||!o.value.newPassword){v.warning("请填写完整密码信息");return}v.success("密码修改成功"),o.value.currentPassword="",o.value.newPassword=""},B=()=>{localStorage.removeItem("learnsphere-cache"),v.success("本地缓存已清理")},E=async()=>{await d.logout(),N.push("/")};return(m,e)=>(f(),w("div",K,[e[38]||(e[38]=s("div",{class:"page-header"},[s("h1",null,"系统设置"),s("p",null,"管理您的偏好设置与账户信息")],-1)),s("div",M,[t(l(P),{class:"settings-nav-card",bordered:!1},{default:n(()=>[s("div",{class:_(["nav-item",{active:i.value==="general"}]),onClick:e[0]||(e[0]=a=>i.value="general")},[s("div",X,[t(l(O))]),e[13]||(e[13]=s("span",null,"通用设置",-1))],2),s("div",{class:_(["nav-item",{active:i.value==="account"}]),onClick:e[1]||(e[1]=a=>i.value="account")},[s("div",Z,[t(l(T))]),e[14]||(e[14]=s("span",null,"账户安全",-1))],2),s("div",{class:_(["nav-item",{active:i.value==="notifications"}]),onClick:e[2]||(e[2]=a=>i.value="notifications")},[s("div",j,[t(l(q))]),e[15]||(e[15]=s("span",null,"通知提醒",-1))],2),e[17]||(e[17]=s("div",{class:"divider"},null,-1)),s("div",{class:"nav-item danger",onClick:E},[s("div",J,[t(l(D))]),e[16]||(e[16]=s("span",null,"退出登录",-1))])]),_:1}),t(l(P),{class:"settings-content-card",bordered:!1},{default:n(()=>[i.value==="general"?(f(),w("div",Q,[e[24]||(e[24]=s("div",{class:"panel-header"},[s("h2",null,"通用设置"),s("p",null,"自定义界面外观与交互体验")],-1)),s("div",W,[s("div",Y,[e[18]||(e[18]=s("div",{class:"label"},[s("div",{class:"title"},"界面主题"),s("div",{class:"desc"},"选择您喜欢的界面风格")],-1)),s("div",h,[t(l(U),{value:u.value.theme,"onUpdate:value":e[3]||(e[3]=a=>u.value.theme=a),options:x,class:"w-40"},null,8,["value"])])]),s("div",ss,[e[19]||(e[19]=s("div",{class:"label"},[s("div",{class:"title"},"系统语言"),s("div",{class:"desc"},"切换系统显示语言")],-1)),s("div",es,[t(l(U),{value:u.value.language,"onUpdate:value":e[4]||(e[4]=a=>u.value.language=a),options:z,class:"w-40"},null,8,["value"])])])]),s("div",ls,[s("div",ts,[e[20]||(e[20]=s("div",{class:"label"},[s("div",{class:"title"},"自动播放音频"),s("div",{class:"desc"},"在查看单词或例句时自动朗读")],-1)),s("div",as,[t(l(b),{value:u.value.autoPlayAudio,"onUpdate:value":e[5]||(e[5]=a=>u.value.autoPlayAudio=a)},null,8,["value"])])])]),s("div",os,[s("div",is,[e[22]||(e[22]=s("div",{class:"label"},[s("div",{class:"title"},"清除缓存"),s("div",{class:"desc"},"释放本地存储空间，不影响账号数据")],-1)),s("div",ns,[t(l(p),{secondary:"",type:"warning",onClick:B},{icon:n(()=>[t(l(F),{class:"w-4 h-4"})]),default:n(()=>[e[21]||(e[21]=c(" 立即清除 ",-1))]),_:1})])])]),s("div",ds,[t(l(p),{type:"primary",size:"large",onClick:A},{default:n(()=>[...e[23]||(e[23]=[c("保存更改",-1)])]),_:1})])])):k("",!0),i.value==="account"?(f(),w("div",us,[e[32]||(e[32]=s("div",{class:"panel-header"},[s("h2",null,"账户安全"),s("p",null,"更新您的个人信息与密码")],-1)),s("div",rs,[s("div",vs,[t(l(H),{size:80,src:l(d).avatar},null,8,["src"]),s("div",ps,[s("div",cs,S(o.value.username),1),s("div",ms,S(o.value.email),1),t(l(p),{text:"",type:"primary"},{default:n(()=>[...e[25]||(e[25]=[c("更换头像",-1)])]),_:1})])])]),s("div",gs,[s("div",ws,[e[26]||(e[26]=s("label",null,"用户名",-1)),t(l(y),{value:o.value.username,"onUpdate:value":e[6]||(e[6]=a=>o.value.username=a),placeholder:"Username"},null,8,["value"])]),s("div",fs,[e[27]||(e[27]=s("label",null,"邮箱地址",-1)),t(l(y),{value:o.value.email,"onUpdate:value":e[7]||(e[7]=a=>o.value.email=a),placeholder:"Email",disabled:""},null,8,["value"])])]),s("div",bs,[e[30]||(e[30]=s("h3",null,"修改密码",-1)),s("div",ys,[e[28]||(e[28]=s("label",null,"当前密码",-1)),t(l(y),{type:"password","show-password-on":"click",value:o.value.currentPassword,"onUpdate:value":e[8]||(e[8]=a=>o.value.currentPassword=a),placeholder:"Current Password"},null,8,["value"])]),s("div",_s,[e[29]||(e[29]=s("label",null,"新密码",-1)),t(l(y),{type:"password","show-password-on":"click",value:o.value.newPassword,"onUpdate:value":e[9]||(e[9]=a=>o.value.newPassword=a),placeholder:"New Password"},null,8,["value"])])]),s("div",ks,[t(l(p),{type:"primary",size:"large",onClick:V},{default:n(()=>[...e[31]||(e[31]=[c("更新信息",-1)])]),_:1})])])):k("",!0),i.value==="notifications"?(f(),w("div",Cs,[e[37]||(e[37]=s("div",{class:"panel-header"},[s("h2",null,"通知提醒"),s("p",null,"管理您的消息推送偏好")],-1)),s("div",Ps,[s("div",Us,[e[33]||(e[33]=s("div",{class:"label"},[s("div",{class:"title"},"邮件通知"),s("div",{class:"desc"},"接收账号安全与重要更新邮件")],-1)),s("div",Ss,[t(l(b),{value:r.value.emailAlerts,"onUpdate:value":e[10]||(e[10]=a=>r.value.emailAlerts=a)},null,8,["value"])])]),s("div",Ns,[e[34]||(e[34]=s("div",{class:"label"},[s("div",{class:"title"},"学习提醒"),s("div",{class:"desc"},"每日定时提醒背单词")],-1)),s("div",xs,[t(l(b),{value:r.value.studyReminders,"onUpdate:value":e[11]||(e[11]=a=>r.value.studyReminders=a)},null,8,["value"])])]),s("div",zs,[e[35]||(e[35]=s("div",{class:"label"},[s("div",{class:"title"},"周报推送"),s("div",{class:"desc"},"每周一发送上周学习总结")],-1)),s("div",As,[t(l(b),{value:r.value.weeklyReport,"onUpdate:value":e[12]||(e[12]=a=>r.value.weeklyReport=a)},null,8,["value"])])])]),s("div",Rs,[t(l(p),{type:"primary",size:"large",onClick:R},{default:n(()=>[...e[36]||(e[36]=[c("保存设置",-1)])]),_:1})])])):k("",!0)]),_:1})])]))}},Os=I(Vs,[["__scopeId","data-v-00286fb3"]]);export{Os as default};
