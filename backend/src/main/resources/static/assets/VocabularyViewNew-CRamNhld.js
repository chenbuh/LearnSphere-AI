import{_ as H,af as J,ag as U,r as m,o as Q,v as r,g as _,b as v,d as t,w as o,u as w,l as X,j as h,F as Y,x as Z,c as ee,e as s,t as u,k,ah as ae,C as te,ai as L,aj as A}from"./index-DxUHCA-q.js";import{S as ne}from"./star-fpd1vxRY.js";const le={class:"vocabulary-view"},oe={class:"word-header"},se={class:"word-phonetic"},ie={class:"word-translation"},re={key:0,class:"word-detail"},ce={class:"detail-header"},ue={class:"detail-phonetic"},de={class:"detail-section"},pe={key:0,class:"detail-section"},ve={key:1,class:"detail-section"},ye={class:"example-en"},ge={class:"example-cn"},_e={__name:"VocabularyViewNew",setup(fe){const d=J(),c=U({examType:"cet4",difficulty:null,keyword:""}),D=[{label:"Â§ßÂ≠¶Ëã±ËØ≠ÂõõÁ∫ß (CET-4)",value:"cet4"},{label:"Â§ßÂ≠¶Ëã±ËØ≠ÂÖ≠Á∫ß (CET-6)",value:"cet6"},{label:"ÈõÖÊÄù (IELTS)",value:"ielts"},{label:"ÊâòÁ¶è (TOEFL)",value:"toefl"},{label:"GRE",value:"gre"}],E=[{label:"ÁÆÄÂçï",value:1},{label:"‰∏ÄËà¨",value:2},{label:"‰∏≠Á≠â",value:3},{label:"Âõ∞Èöæ",value:4},{label:"ÂæàÈöæ",value:5}],b=m([]),y=m(!1),l=U({page:1,pageSize:12,pageCount:1,total:0}),g=m(!1),i=m(null),p=async()=>{y.value=!0;try{const a=await L.getVocabularyList({examType:c.examType,difficulty:c.difficulty,keyword:c.keyword,page:l.page,pageSize:l.pageSize});b.value=a.data.records,l.total=a.data.total,l.pageCount=Math.ceil(a.data.total/l.pageSize)}catch{d.error("Âä†ËΩΩËØçÊ±áÂ§±Ë¥•")}finally{y.value=!1}},N=async()=>{y.value=!0;try{const a=await L.getDailyWords({examType:c.examType,count:l.pageSize});b.value=a.data.records,l.page=1,l.total=a.data.records.length,l.pageCount=1,d.success("Â∑≤Âä†ËΩΩÊØèÊó•ÂçïËØç")}catch{d.error("Âä†ËΩΩÊØèÊó•ÂçïËØçÂ§±Ë¥•")}finally{y.value=!1}};let x=null;const B=()=>{clearTimeout(x),x=setTimeout(()=>{l.page=1,p()},500)},I=a=>{l.pageSize=a,l.page=1,p()},R=a=>{i.value=a,g.value=!0,S(a.word)},S=a=>{if(!a)return;const e=new SpeechSynthesisUtterance(a);e.lang="en-US",e.rate=.9,window.speechSynthesis.speak(e)},W=a=>["success","info","warning","error","error"][a-1]||"default",$=async a=>{try{await A.createRecord({contentId:a.id,contentType:"vocabulary",isCorrect:1,timeSpent:0,score:100,answer:a.word,correctAnswer:a.word,masteryLevel:5}),d.success("Â∑≤Ê†áËÆ∞‰∏∫ÊéåÊè°"),g.value=!1}catch{d.error("Êìç‰ΩúÂ§±Ë¥•")}},F=async a=>{try{await A.createRecord({contentId:a.id,contentType:"vocabulary",isCorrect:0,timeSpent:0,score:0,answer:"",correctAnswer:a.word,masteryLevel:1}),d.success("Â∑≤Âä†ÂÖ•Â§ç‰π†ÂàóË°®"),g.value=!1}catch{d.error("Êìç‰ΩúÂ§±Ë¥•")}};return Q(()=>{p()}),(a,e)=>{const C=r("n-select"),M=r("n-input"),f=r("n-button"),T=r("n-space"),O=r("n-tag"),z=r("n-card"),j=r("n-grid-item"),G=r("n-grid"),K=r("n-pagination"),P=r("n-spin"),V=r("n-divider"),q=r("n-modal");return v(),_("div",le,[t(z,{title:"üìö ËØçÊ±áÂ≠¶‰π†",class:"main-card"},{default:o(()=>[t(T,{class:"filter-bar",align:"center"},{default:o(()=>[t(C,{value:c.examType,"onUpdate:value":[e[0]||(e[0]=n=>c.examType=n),p],options:D,style:{width:"200px"}},null,8,["value"]),t(C,{value:c.difficulty,"onUpdate:value":[e[1]||(e[1]=n=>c.difficulty=n),p],options:E,style:{width:"150px"},placeholder:"ÈöæÂ∫¶",clearable:""},null,8,["value"]),t(M,{value:c.keyword,"onUpdate:value":[e[2]||(e[2]=n=>c.keyword=n),B],placeholder:"ÊêúÁ¥¢ÂçïËØç...",clearable:""},{prefix:o(()=>[t(w(X),{size:16})]),_:1},8,["value"]),t(f,{type:"primary",onClick:N},{default:o(()=>[...e[8]||(e[8]=[h(" ÊØèÊó•ÂçïËØç ",-1)])]),_:1})]),_:1}),t(P,{show:y.value},{default:o(()=>[t(G,{cols:3,"x-gap":16,"y-gap":16,class:"vocabulary-grid"},{default:o(()=>[(v(!0),_(Y,null,Z(b.value,n=>(v(),ee(j,{key:n.id},{default:o(()=>[t(z,{hoverable:"",class:"word-card",onClick:me=>R(n)},{default:o(()=>[s("div",oe,[s("h3",null,u(n.word),1),t(O,{type:W(n.difficulty),size:"small"},{default:o(()=>[h(" ÈöæÂ∫¶ "+u(n.difficulty),1)]),_:2},1032,["type"])]),s("div",se,u(n.phonetic),1),s("div",ie,u(n.translation),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}),t(K,{page:l.page,"onUpdate:page":[e[3]||(e[3]=n=>l.page=n),p],"page-count":l.pageCount,"page-size":l.pageSize,"show-size-picker":"","page-sizes":[12,24,48],"onUpdate:pageSize":I,class:"pagination"},null,8,["page","page-count","page-size"])]),_:1},8,["show"]),t(q,{show:g.value,"onUpdate:show":e[7]||(e[7]=n=>g.value=n),preset:"card",title:"ËØçÊ±áËØ¶ÊÉÖ",style:{width:"600px"}},{default:o(()=>[i.value?(v(),_("div",re,[s("div",ce,[s("h2",null,u(i.value.word),1),t(f,{circle:"",onClick:e[4]||(e[4]=n=>S(i.value.word))},{icon:o(()=>[t(w(ae),{size:20})]),_:1})]),s("div",ue,u(i.value.phonetic),1),t(V),s("div",de,[e[9]||(e[9]=s("h4",null,"Èáä‰πâ",-1)),s("p",null,u(i.value.translation),1)]),i.value.definition?(v(),_("div",pe,[e[10]||(e[10]=s("h4",null,"Ëã±ÊñáÈáä‰πâ",-1)),s("p",null,u(i.value.definition),1)])):k("",!0),i.value.example?(v(),_("div",ve,[e[11]||(e[11]=s("h4",null,"‰æãÂè•",-1)),s("p",ye,u(i.value.example),1),s("p",ge,u(i.value.exampleTranslation),1)])):k("",!0),t(V),t(T,null,{default:o(()=>[t(f,{type:"success",onClick:e[5]||(e[5]=n=>$(i.value))},{icon:o(()=>[t(w(te),{size:16})]),default:o(()=>[e[12]||(e[12]=h(" Â∑≤ÊéåÊè° ",-1))]),_:1}),t(f,{type:"warning",onClick:e[6]||(e[6]=n=>F(i.value))},{icon:o(()=>[t(w(ne),{size:16})]),default:o(()=>[e[13]||(e[13]=h(" Âä†ÂÖ•Â§ç‰π† ",-1))]),_:1})]),_:1})])):k("",!0)]),_:1},8,["show"])]),_:1})])}}},be=H(_e,[["__scopeId","data-v-95f2bd59"]]);export{be as default};
