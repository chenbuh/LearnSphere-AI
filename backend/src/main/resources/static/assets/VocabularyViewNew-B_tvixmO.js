import{_ as P,v as U,l as L}from"./index-CZUTEx94.js";import{k as X,V as j,e as Q,s as Y}from"./lucide-DtS2HtB5.js";import{a6 as Z,b as A,r as m,S as ee,l as r,I as g,z as v,s as t,q as l,u as w,H as b,J as ae,a2 as te,p as ne,F as s,X as u,a1 as k}from"./naive-ui-CN0IOFzZ.js";import"./echarts-5QPu3XI4.js";const oe={class:"vocabulary-view"},le={class:"word-header"},se={class:"word-phonetic"},ie={class:"word-translation"},re={key:0,class:"word-detail"},ce={class:"detail-header"},ue={class:"detail-phonetic"},de={class:"detail-section"},pe={key:0,class:"detail-section"},ve={key:1,class:"detail-section"},ye={class:"example-en"},_e={class:"example-cn"},ge={__name:"VocabularyViewNew",setup(fe){const d=Z(),c=A({examType:"cet4",difficulty:null,keyword:""}),D=[{label:"Â§ßÂ≠¶Ëã±ËØ≠ÂõõÁ∫ß (CET-4)",value:"cet4"},{label:"Â§ßÂ≠¶Ëã±ËØ≠ÂÖ≠Á∫ß (CET-6)",value:"cet6"},{label:"ÈõÖÊÄù (IELTS)",value:"ielts"},{label:"ÊâòÁ¶è (TOEFL)",value:"toefl"},{label:"GRE",value:"gre"}],E=[{label:"ÁÆÄÂçï",value:1},{label:"‰∏ÄËà¨",value:2},{label:"‰∏≠Á≠â",value:3},{label:"Âõ∞Èöæ",value:4},{label:"ÂæàÈöæ",value:5}],h=m([]),y=m(!1),o=A({page:1,pageSize:12,pageCount:1,total:0}),_=m(!1),i=m(null),p=async()=>{y.value=!0;try{const a=await U.getVocabularyList({examType:c.examType,difficulty:c.difficulty,keyword:c.keyword,page:o.page,pageSize:o.pageSize});h.value=a.data.records,o.total=a.data.total,o.pageCount=Math.ceil(a.data.total/o.pageSize)}catch{d.error("Âä†ËΩΩËØçÊ±áÂ§±Ë¥•")}finally{y.value=!1}},N=async()=>{y.value=!0;try{const a=await U.getDailyWords({examType:c.examType,count:o.pageSize});h.value=a.data.records,o.page=1,o.total=a.data.records.length,o.pageCount=1,d.success("Â∑≤Âä†ËΩΩÊØèÊó•ÂçïËØç")}catch{d.error("Âä†ËΩΩÊØèÊó•ÂçïËØçÂ§±Ë¥•")}finally{y.value=!1}};let x=null;const I=()=>{clearTimeout(x),x=setTimeout(()=>{o.page=1,p()},500)},B=a=>{o.pageSize=a,o.page=1,p()},R=a=>{i.value=a,_.value=!0,S(a.word)},S=a=>{if(!a)return;const e=new SpeechSynthesisUtterance(a);e.lang="en-US",e.rate=.9,window.speechSynthesis.speak(e)},W=a=>["success","info","warning","error","error"][a-1]||"default",$=async a=>{try{await L.createRecord({contentId:a.id,contentType:"vocabulary",isCorrect:1,timeSpent:0,score:100,answer:a.word,correctAnswer:a.word,masteryLevel:5}),d.success("Â∑≤Ê†áËÆ∞‰∏∫ÊéåÊè°"),_.value=!1}catch{d.error("Êìç‰ΩúÂ§±Ë¥•")}},F=async a=>{try{await L.createRecord({contentId:a.id,contentType:"vocabulary",isCorrect:0,timeSpent:0,score:0,answer:"",correctAnswer:a.word,masteryLevel:1}),d.success("Â∑≤Âä†ÂÖ•Â§ç‰π†ÂàóË°®"),_.value=!1}catch{d.error("Êìç‰ΩúÂ§±Ë¥•")}};return ee(()=>{p()}),(a,e)=>{const T=r("n-select"),M=r("n-input"),f=r("n-button"),z=r("n-space"),O=r("n-tag"),C=r("n-card"),q=r("n-grid-item"),G=r("n-grid"),H=r("n-pagination"),J=r("n-spin"),V=r("n-divider"),K=r("n-modal");return v(),g("div",oe,[t(C,{title:"üìö ËØçÊ±áÂ≠¶‰π†",class:"main-card"},{default:l(()=>[t(z,{class:"filter-bar",align:"center"},{default:l(()=>[t(T,{value:c.examType,"onUpdate:value":[e[0]||(e[0]=n=>c.examType=n),p],options:D,style:{width:"200px"}},null,8,["value"]),t(T,{value:c.difficulty,"onUpdate:value":[e[1]||(e[1]=n=>c.difficulty=n),p],options:E,style:{width:"150px"},placeholder:"ÈöæÂ∫¶",clearable:""},null,8,["value"]),t(M,{value:c.keyword,"onUpdate:value":[e[2]||(e[2]=n=>c.keyword=n),I],placeholder:"ÊêúÁ¥¢ÂçïËØç...",clearable:""},{prefix:l(()=>[t(w(X),{size:16})]),_:1},8,["value"]),t(f,{type:"primary",onClick:N},{default:l(()=>[...e[8]||(e[8]=[b(" ÊØèÊó•ÂçïËØç ",-1)])]),_:1})]),_:1}),t(J,{show:y.value},{default:l(()=>[t(G,{cols:3,"x-gap":16,"y-gap":16,class:"vocabulary-grid"},{default:l(()=>[(v(!0),g(ae,null,te(h.value,n=>(v(),ne(q,{key:n.id},{default:l(()=>[t(C,{hoverable:"",class:"word-card",onClick:me=>R(n)},{default:l(()=>[s("div",le,[s("h3",null,u(n.word),1),t(O,{type:W(n.difficulty),size:"small"},{default:l(()=>[b(" ÈöæÂ∫¶ "+u(n.difficulty),1)]),_:2},1032,["type"])]),s("div",se,u(n.phonetic),1),s("div",ie,u(n.translation),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}),t(H,{page:o.page,"onUpdate:page":[e[3]||(e[3]=n=>o.page=n),p],"page-count":o.pageCount,"page-size":o.pageSize,"show-size-picker":"","page-sizes":[12,24,48],"onUpdate:pageSize":B,class:"pagination"},null,8,["page","page-count","page-size"])]),_:1},8,["show"]),t(K,{show:_.value,"onUpdate:show":e[7]||(e[7]=n=>_.value=n),preset:"card",title:"ËØçÊ±áËØ¶ÊÉÖ",style:{width:"600px"}},{default:l(()=>[i.value?(v(),g("div",re,[s("div",ce,[s("h2",null,u(i.value.word),1),t(f,{circle:"",onClick:e[4]||(e[4]=n=>S(i.value.word))},{icon:l(()=>[t(w(j),{size:20})]),_:1})]),s("div",ue,u(i.value.phonetic),1),t(V),s("div",de,[e[9]||(e[9]=s("h4",null,"Èáä‰πâ",-1)),s("p",null,u(i.value.translation),1)]),i.value.definition?(v(),g("div",pe,[e[10]||(e[10]=s("h4",null,"Ëã±ÊñáÈáä‰πâ",-1)),s("p",null,u(i.value.definition),1)])):k("",!0),i.value.example?(v(),g("div",ve,[e[11]||(e[11]=s("h4",null,"‰æãÂè•",-1)),s("p",ye,u(i.value.example),1),s("p",_e,u(i.value.exampleTranslation),1)])):k("",!0),t(V),t(z,null,{default:l(()=>[t(f,{type:"success",onClick:e[5]||(e[5]=n=>$(i.value))},{icon:l(()=>[t(w(Q),{size:16})]),default:l(()=>[e[12]||(e[12]=b(" Â∑≤ÊéåÊè° ",-1))]),_:1}),t(f,{type:"warning",onClick:e[6]||(e[6]=n=>F(i.value))},{icon:l(()=>[t(w(Y),{size:16})]),default:l(()=>[e[13]||(e[13]=b(" Âä†ÂÖ•Â§ç‰π† ",-1))]),_:1})]),_:1})])):k("",!0)]),_:1},8,["show"])]),_:1})])}}},xe=P(ge,[["__scopeId","data-v-95f2bd59"]]);export{xe as default};
