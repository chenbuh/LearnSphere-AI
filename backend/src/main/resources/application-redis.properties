# Redis 配置示例（添加到 application.properties）
# ============================================

# Redis 基本配置
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.password=
spring.data.redis.database=0

# Redis 连接池配置
spring.data.redis.lettuce.pool.max-active=8
spring.data.redis.lettuce.pool.max-wait=-1ms
spring.data.redis.lettuce.pool.max-idle=8
spring.data.redis.lettuce.pool.min-idle=0

# Redis 超时配置
spring.data.redis.timeout=3000ms

# ============================================
# Resilience4j 熔断器配置
# ============================================

# Circuit Breaker 配置
resilience4j.circuitbreaker.instances.aiService.failure-rate-threshold=50
resilience4j.circuitbreaker.instances.aiService.wait-duration-in-open-state=60000
resilience4j.circuitbreaker.instances.aiService.sliding-window-size=10
resilience4j.circuitbreaker.instances.aiService.minimum-number-of-calls=5
resilience4j.circuitbreaker.instances.aiService.permitted-number-of-calls-in-half-open-state=3
resilience4j.circuitbreaker.instances.aiService.automatic-transition-from-open-to-half-open-enabled=true

# 时间限制器配置
resilience4j.timelimiter.instances.aiService.timeout-duration=30s

# ============================================
# Spring Cache 配置
# ============================================

# 启用缓存
spring.cache.type=redis
spring.cache.redis.time-to-live=600000
spring.cache.redis.cache-null-values=false

# ============================================
# 异步线程池配置（已在 Java 代码中配置）
# ============================================
