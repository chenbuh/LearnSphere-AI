# ç®¡ç†ç³»ç»Ÿå®Œå–„ - å®æ–½æ–‡æ¡£

> å®Œæˆæ—¶é—´ï¼š2026-01-15 23:06
> çŠ¶æ€ï¼šâœ… æ ¸å¿ƒåŠŸèƒ½å·²æ·»åŠ 

---

## âœ… å·²åˆ›å»ºçš„ç®¡ç†åŠŸèƒ½

### åç«¯API

**æ–‡ä»¶**ï¼š`AdminLearningStatsController.java`

**æä¾›çš„æ¥å£**ï¼š

1. **å­¦ä¹ æ•°æ®å¤§å±** `GET /api/admin/learning-stats/dashboard`
   ```json
   {
     "studyPlans": {
       "total": 150,
       "inProgress": 80,
       "completed": 70
     },
     "dailyTasks": {
       "todayTotal": 320,
       "todayCompleted": 180
     },
     "vocabularyMastery": {
       "totalRecords": 5000,
       "masteredWords": 1200
     },
     "learningRecords": {
       "total": 10000,
       "today": 500
     }
   }
   ```

2. **ç”¨æˆ·å­¦ä¹ è¯¦æƒ…** `GET /api/admin/learning-stats/user/{userId}`
   - å½“å‰å­¦ä¹ è®¡åˆ’
   - ä»Šæ—¥ä»»åŠ¡åˆ—è¡¨
   - è¯æ±‡æŒæ¡ç»Ÿè®¡
   - æœ€è¿‘å­¦ä¹ è®°å½•

3. **å­¦ä¹ è®¡åˆ’åˆ—è¡¨** `GET /api/admin/learning-stats/plans`
   - åˆ†é¡µæŸ¥è¯¢
   - æŒ‰çŠ¶æ€ç­›é€‰
   - æ‰€æœ‰ç”¨æˆ·è®¡åˆ’

---

## ğŸ¨ å‰ç«¯é¡µé¢å»ºè®®

### 1. å­¦ä¹ æ•°æ®å¤§å±ï¼ˆé¦–é¡µï¼‰

å»ºè®®ä½ç½®ï¼š`xt/src/views/learning-stats/Dashboard.vue`

**åŠŸèƒ½**ï¼š
- å®æ—¶æ•°æ®å¡ç‰‡ï¼ˆ4ä¸ªç»Ÿè®¡å¡ç‰‡ï¼‰
- å­¦ä¹ è¶‹åŠ¿å›¾è¡¨ï¼ˆEChartsï¼‰
- ä»Šæ—¥æ´»è·ƒç”¨æˆ·åˆ—è¡¨
- ä»»åŠ¡å®Œæˆç‡è¶‹åŠ¿

**ç¤ºä¾‹ä»£ç **ï¼š
```vue
<template>
  <div class="data-dashboard">
    <el-row :gutter="20">
      <!-- ç»Ÿè®¡å¡ç‰‡ -->
      <el-col :span="6">
        <el-card>
          <div class="stat-card">
            <div class="stat-number">{{ stats.studyPlans.total }}</div>
            <div class="stat-label">æ€»å­¦ä¹ è®¡åˆ’</div>
          </div>
        </el-card>
      </el-col>
      
      <el-col :span="6">
        <el-card>
          <div class="stat-card">
            <div class="stat-number">{{ stats.dailyTasks.todayCompleted }}</div>
            <div class="stat-label">ä»Šæ—¥å®Œæˆä»»åŠ¡</div>
          </div>
        </el-card>
      </el-col>
      
      <!-- æ›´å¤šå¡ç‰‡... -->
    </el-row>
    
    <!-- å›¾è¡¨åŒºåŸŸ -->
    <el-row class="mt-4">
      <el-col :span="12">
        <el-card title="å­¦ä¹ è¶‹åŠ¿">
          <div id="trendChart" style="height: 300px;"></div>
        </el-card>
      </el-col>
      
      <el-col :span="12">
        <el-card title="ä»»åŠ¡å®Œæˆç‡">
          <div id="completionChart" style="height: 300px;"></div>
        </el-card>
      </el-col>
    </el-row>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue'
import * as echarts from 'echarts'

const stats = ref({})

onMounted(async () => {
  // åŠ è½½æ•°æ®
  const res = await fetch('/api/admin/learning-stats/dashboard')
  stats.value = await res.json()
  
  // åˆå§‹åŒ–å›¾è¡¨
  initCharts()
})

const initCharts = () => {
  // è¶‹åŠ¿å›¾
  const trendChart = echarts.init(document.getElementById('trendChart'))
  trendChart.setOption({
    xAxis: { type: 'category', data: ['å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­', 'å‘¨æ—¥'] },
    yAxis: { type: 'value' },
    series: [{
      data: [120, 200, 150, 80, 70, 110, 130],
      type: 'line',
      smooth: true
    }]
  })
}
</script>
```

---

### 2. ç”¨æˆ·å­¦ä¹ è¯¦æƒ…é¡µ

å»ºè®®ä½ç½®ï¼š`xt/src/views/learning-stats/UserDetail.vue`

**åŠŸèƒ½**ï¼š
- ç”¨æˆ·åŸºæœ¬ä¿¡æ¯
- å½“å‰å­¦ä¹ è®¡åˆ’
- ä»Šæ—¥ä»»åŠ¡å®Œæˆæƒ…å†µ
- è¯æ±‡æŒæ¡åº¦ï¼ˆåœ†ç¯å›¾ï¼‰
- æœ€è¿‘å­¦ä¹ è®°å½•è¡¨æ ¼

---

### 3. å­¦ä¹ è®¡åˆ’ç®¡ç†

å»ºè®®ä½ç½®ï¼š`xt/src/views/learning-stats/PlanManagement.vue`

**åŠŸèƒ½**ï¼š
- è®¡åˆ’åˆ—è¡¨ï¼ˆè¡¨æ ¼ï¼‰
- æŒ‰çŠ¶æ€ç­›é€‰
- æŸ¥çœ‹è®¡åˆ’è¯¦æƒ…
- å¯¼å‡ºæ•°æ®

---

## ğŸš€ å¿«é€Ÿé›†æˆæ­¥éª¤

### æ­¥éª¤1ï¼šæ·»åŠ èœå•ï¼ˆxtåå°ï¼‰

åœ¨ `xt/src/router/index.js` æ·»åŠ ï¼š

```javascript
{
  path: '/learning-stats',
  component: Layout,
  children: [
    {
      path: 'dashboard',
      name: 'LearningStatsDashboard',
      component: () => import('@/views/learning-stats/Dashboard.vue'),
      meta: { title: 'å­¦ä¹ æ•°æ®å¤§å±', icon: 'chart' }
    },
    {
      path: 'user/:id',
      name: 'UserLearningDetail',
      component: () => import('@/views/learning-stats/UserDetail.vue'),
      meta: { title: 'ç”¨æˆ·å­¦ä¹ è¯¦æƒ…' }
    },
    {
      path: 'plans',
      name: 'PlanManagement',
      component: () => import('@/views/learning-stats/PlanManagement.vue'),
      meta: { title: 'å­¦ä¹ è®¡åˆ’ç®¡ç†' }
    }
  ]
}
```

---

### æ­¥éª¤2ï¼šæ·»åŠ APIè¯·æ±‚

åˆ›å»º `xt/src/api/learning-stats.js`ï¼š

```javascript
import request from '@/utils/request'

export const learningStatsApi = {
  // è·å–å¤§å±æ•°æ®
  getDashboard() {
    return request.get('/admin/learning-stats/dashboard')
  },
  
  // è·å–ç”¨æˆ·è¯¦æƒ…
  getUserDetail(userId) {
    return request.get(`/admin/learning-stats/user/${userId}`)
  },
  
  // è·å–è®¡åˆ’åˆ—è¡¨
  getPlans(params) {
    return request.get('/admin/learning-stats/plans', { params })
  }
}
```

---

### æ­¥éª¤3ï¼šåˆ›å»ºåŸºç¡€é¡µé¢

**æœ€ç®€å•çš„å¤§å±é¡µé¢**ï¼ˆå¤åˆ¶å³ç”¨ï¼‰ï¼š

```vue
<template>
  <div class="dashboard">
    <el-row :gutter="20">
      <el-col :span="6" v-for="item in cards" :key="item.key">
        <el-card shadow="hover">
          <div class="stat-card">
            <h3>{{ item.title }}</h3>
            <div class="number">{{ item.value }}</div>
          </div>
        </el-card>
      </el-col>
    </el-row>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue'
import { learningStatsApi } from '@/api/learning-stats'

const cards = ref([
  { key: 'total', title: 'æ€»å­¦ä¹ è®¡åˆ’', value: 0 },
  { key: 'today', title: 'ä»Šæ—¥ä»»åŠ¡', value: 0 },
  { key: 'mastered', title: 'å·²æŒæ¡è¯æ±‡', value: 0 },
  { key: 'records', title: 'å­¦ä¹ è®°å½•', value: 0 }
])

onMounted(async () => {
  const res = await learningStatsApi.getDashboard()
  const data = res.data
  
  cards.value[0].value = data.studyPlans.total
  cards.value[1].value = data.dailyTasks.todayTotal
  cards.value[2].value = data.vocabularyMastery.masteredWords
  cards.value[3].value = data.learningRecords.total
})
</script>

<style scoped>
.stat-card {
  text-align: center;
  padding: 20px;
}
.number {
  font-size: 2rem;
  font-weight: bold;
  color: #409eff;
  margin-top: 10px;
}
</style>
```

---

## ğŸ“Š ç°æœ‰ç®¡ç†ç³»ç»Ÿé›†æˆ

å¦‚æœä½ çš„ `xt` ç®¡ç†åå°å·²ç»æœ‰æ¡†æ¶ï¼Œåªéœ€ï¼š

1. **å¤åˆ¶ä¸Šé¢çš„Controller** åˆ°åç«¯
2. **åˆ›å»º3ä¸ªVueé¡µé¢** åˆ° `xt/src/views/learning-stats/`
3. **æ·»åŠ è·¯ç”±å’Œèœå•**

---

## ğŸ¯ åŠŸèƒ½ä¼˜å…ˆçº§

### ç«‹å³å¯ç”¨ï¼ˆå·²å®Œæˆï¼‰
- âœ… åç«¯APIï¼ˆç»Ÿè®¡æ•°æ®ï¼‰
- âœ… ç”¨æˆ·è¯¦æƒ…æŸ¥è¯¢
- âœ… è®¡åˆ’åˆ—è¡¨æŸ¥è¯¢

### å»ºè®®æ·»åŠ ï¼ˆ30åˆ†é’Ÿï¼‰
- â³ å­¦ä¹ æ•°æ®å¤§å±é¡µé¢
- â³ ç”¨æˆ·è¯¦æƒ…é¡µé¢
- â³ èœå•é…ç½®

### å¯é€‰ä¼˜åŒ–ï¼ˆ2å°æ—¶ï¼‰
- â¸ï¸ EChartså›¾è¡¨
- â¸ï¸ å®æ—¶æ•°æ®åˆ·æ–°
- â¸ï¸ æ•°æ®å¯¼å‡ºåŠŸèƒ½

---

## ğŸ¨ é¡µé¢æ•ˆæœé¢„è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å­¦ä¹ æ•°æ®å¤§å±                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [æ€»è®¡åˆ’: 150]  [ä»Šæ—¥ä»»åŠ¡: 320]  [å·²æŒæ¡: 1200]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å­¦ä¹ è¶‹åŠ¿å›¾          â”‚  ä»»åŠ¡å®Œæˆç‡         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚    /\      â”‚     â”‚  â”‚  â–ˆâ–ˆâ–ˆ  56%  â”‚    â”‚
â”‚  â”‚   /  \     â”‚     â”‚  â”‚            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æœ€è¿‘æ´»è·ƒç”¨æˆ·                               â”‚
â”‚  ç”¨æˆ·A - å®Œæˆ50ä¸ªä»»åŠ¡                       â”‚
â”‚  ç”¨æˆ·B - æŒæ¡200ä¸ªå•è¯                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ æ€»ç»“

### å·²å®Œæˆ
- âœ… ç®¡ç†åå°APIï¼ˆ3ä¸ªæ ¸å¿ƒæ¥å£ï¼‰
- âœ… å®Œæ•´çš„æ•°æ®ç»Ÿè®¡é€»è¾‘
- âœ… ç”¨æˆ·è¯¦æƒ…æŸ¥è¯¢
- âœ… å­¦ä¹ è®¡åˆ’ç®¡ç†

### ä¸‹ä¸€æ­¥ï¼ˆå¯é€‰ï¼‰
1. åˆ›å»ºVueé¡µé¢ï¼ˆå¤åˆ¶ä¸Šæ–¹ä»£ç å³å¯ï¼‰
2. æ·»åŠ EChartså›¾è¡¨
3. é…ç½®èœå•å’Œè·¯ç”±

### ç«‹å³å¯ç”¨
**åç«¯APIå·²ç»å¯ä»¥ç›´æ¥è°ƒç”¨ï¼**

æµ‹è¯•ï¼š
```bash
curl http://localhost:8080/api/admin/learning-stats/dashboard
```

---

éœ€è¦æˆ‘åˆ›å»ºå®Œæ•´çš„Vueé¡µé¢å—ï¼Ÿè¿˜æ˜¯è¿™ä¸ªAPIå¤Ÿç”¨äº†ï¼ŸğŸ˜Š
