# ğŸ“– LearnSphere AI - å¼€å‘æ–‡æ¡£

> æœ¬æ–‡æ¡£ä¸ºå¼€å‘è€…æä¾›å®Œæ•´çš„é¡¹ç›®å¼€å‘æŒ‡å—ï¼ŒåŒ…æ‹¬ç¯å¢ƒæ­å»ºã€æ¶æ„è®¾è®¡ã€å¼€å‘è§„èŒƒå’Œæœ€ä½³å®è·µã€‚

## ğŸ“‘ ç›®å½•

- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [ç¯å¢ƒæ­å»º](#ç¯å¢ƒæ­å»º)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [æ ¸å¿ƒæ¨¡å—](#æ ¸å¿ƒæ¨¡å—)
- [å¼€å‘è§„èŒƒ](#å¼€å‘è§„èŒƒ)
- [APIæ–‡æ¡£](#apiæ–‡æ¡£)
- [æ•°æ®åº“è®¾è®¡](#æ•°æ®åº“è®¾è®¡)
- [æµ‹è¯•æŒ‡å—](#æµ‹è¯•æŒ‡å—)
- [éƒ¨ç½²æŒ‡å—](#éƒ¨ç½²æŒ‡å—)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## é¡¹ç›®æ¦‚è¿°

### é¡¹ç›®ç®€ä»‹

LearnSphere AI æ˜¯ä¸€ä¸ªåŸºäº Vue 3 + Vite çš„ç°ä»£åŒ–è‹±è¯­å­¦ä¹ å¹³å°ï¼Œé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œé›†æˆäº†AIæ™ºèƒ½æ¨èç³»ç»Ÿã€è‡ªé€‚åº”å­¦ä¹ è·¯å¾„å’Œå…¨é¢çš„å­¦ä¹ ç®¡ç†åŠŸèƒ½ã€‚

### æ ¸å¿ƒåŠŸèƒ½

- **è¯æ±‡å­¦ä¹ ç³»ç»Ÿ** - æ”¯æŒå¤šç§è€ƒè¯•ç±»å‹çš„è¯æ±‡å­¦ä¹ 
- **è¯­æ³•ç»ƒä¹ æ¨¡å—** - äº¤äº’å¼è¯­æ³•ç»ƒä¹ å’ŒçŸ¥è¯†ç‚¹è®²è§£
- **é˜…è¯»ç†è§£è®­ç»ƒ** - åˆ†çº§é˜…è¯»ææ–™å’Œé¢˜å‹ç»ƒä¹ 
- **AIæ¨èå¼•æ“** - ä¸ªæ€§åŒ–å­¦ä¹ å†…å®¹æ¨è
- **å­¦ä¹ æ•°æ®åˆ†æ** - è¯¦ç»†çš„å­¦ä¹ ç»Ÿè®¡å’Œè¿›åº¦è¿½è¸ª
- **ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ** - å®Œæ•´çš„ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†

### æŠ€æœ¯ç‰¹ç‚¹

- ğŸš€ **ç°ä»£åŒ–æŠ€æœ¯æ ˆ** - Vue 3 + Vite + Pinia
- ğŸ“¦ **ç»„ä»¶åŒ–å¼€å‘** - é«˜åº¦æ¨¡å—åŒ–çš„ç»„ä»¶è®¾è®¡
- ğŸ¨ **UIç»„ä»¶åº“** - Naive UI æä¾›ä¸°å¯Œçš„UIç»„ä»¶
- ğŸ”„ **çŠ¶æ€ç®¡ç†** - Pinia å®ç°å“åº”å¼çŠ¶æ€ç®¡ç†
- ğŸ›£ï¸ **è·¯ç”±ç®¡ç†** - Vue Router 4 å®ç°SPAè·¯ç”±
- ğŸ“¡ **HTTPå®¢æˆ·ç«¯** - Axios å¤„ç†APIè¯·æ±‚
- ğŸ¯ **TypeScriptæ”¯æŒ** - å¯é€‰çš„ç±»å‹å®‰å…¨

---

## æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯æ ˆ

#### æ ¸å¿ƒæ¡†æ¶
```xml
<!-- Spring Boot 3.0.5 -->
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-web</artifactId>
    <version>3.0.5</version>
</dependency>
```

#### æ•°æ®åº“ç›¸å…³
```xml
<!-- MyBatis-Plus -->
<dependency>
    <groupId>com.baomidou</groupId>
    <artifactId>mybatis-plus-boot-starter</artifactId>
    <version>3.5.3.1</version>
</dependency>

<!-- MySQLé©±åŠ¨ -->
<dependency>
    <groupId>com.mysql</groupId>
    <artifactId>mysql-connector-j</artifactId>
    <version>8.0.33</version>
</dependency>

<!-- Redis -->
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-data-redis</artifactId>
</dependency>
```

#### è®¤è¯æˆæƒ
```xml
<!-- Sa-Token -->
<dependency>
    <groupId>cn.dev33</groupId>
    <artifactId>sa-token-spring-boot3-starter</artifactId>
    <version>1.37.0</version>
</dependency>

<!-- Sa-Token Redisé›†æˆ -->
<dependency>
    <groupId>cn.dev33</groupId>
    <artifactId>sa-token-redis-jackson</artifactId>
    <version>1.37.0</version>
</dependency>
```

### å‰ç«¯æŠ€æœ¯æ ˆ

#### æ ¸å¿ƒæ¡†æ¶
```json
{
  "vue": "^3.5.24",           // Vue 3 æ¡†æ¶
  "vite": "^7.2.4",           // æ„å»ºå·¥å…·
  "vue-router": "^4.6.4",     // è·¯ç”±ç®¡ç†
  "pinia": "^3.0.4"           // çŠ¶æ€ç®¡ç†
}
```

#### UIç»„ä»¶åº“
```json
{
  "naive-ui": "^2.43.2",      // UIç»„ä»¶åº“
  "lucide-vue-next": "^0.562.0", // å›¾æ ‡åº“
  "vfonts": "^0.0.3"          // å­—ä½“åº“
}
```

#### å·¥å…·åº“
```json
{
  "axios": "^1.13.2",         // HTTPå®¢æˆ·ç«¯
  "autoprefixer": "^10.4.23", // CSSè‡ªåŠ¨å‰ç¼€
  "postcss": "^8.5.6"         // CSSå¤„ç†å·¥å…·
}
```

### å¼€å‘å·¥å…·

**åç«¯**
- **Maven** - é¡¹ç›®æ„å»ºç®¡ç†
- **Lombok** - ç®€åŒ–Javaä»£ç 
- **Hutool** - Javaå·¥å…·ç±»åº“

**å‰ç«¯**
- **@vitejs/plugin-vue** - Vue 3 çš„ Vite æ’ä»¶
- **ESLint** - ä»£ç è´¨é‡æ£€æŸ¥
- **Prettier** - ä»£ç æ ¼å¼åŒ–

### ç¯å¢ƒè¦æ±‚

**åç«¯**
- JDK >= 17
- Maven >= 3.8.0
- MySQL >= 8.0
- Redis >= 6.0

**å‰ç«¯**
- Node.js >= 16.0.0
- npm >= 7.0.0

### æµè§ˆå™¨æ”¯æŒ

- Chrome >= 87
- Firefox >= 78
- Safari >= 14
- Edge >= 88

---

## ç¯å¢ƒæ­å»º

### å‰ç½®è¦æ±‚

ç¡®ä¿ä½ çš„å¼€å‘ç¯å¢ƒæ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š

**åç«¯ç¯å¢ƒ**
```bash
JDK >= 17
Maven >= 3.8.0
MySQL >= 8.0
Redis >= 6.0
```

**å‰ç«¯ç¯å¢ƒ**
```bash
Node.js >= 16.0.0
npm >= 7.0.0 æˆ– yarn >= 1.22.0
Git >= 2.0.0
```

### å®‰è£…æ­¥éª¤

#### 1. å…‹éš†é¡¹ç›®

```bash
# ä½¿ç”¨ HTTPS
git clone https://github.com/learnsphere/learnsphere-ai.git

# æˆ–ä½¿ç”¨ SSH
git clone git@github.com:learnsphere/learnsphere-ai.git

# è¿›å…¥é¡¹ç›®ç›®å½•
cd learnsphere-ai
```

#### 2. åç«¯ç¯å¢ƒæ­å»º

##### 2.1 é…ç½®æ•°æ®åº“

```sql
-- åˆ›å»ºæ•°æ®åº“
CREATE DATABASE learnsphere_ai DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- ä½¿ç”¨æ•°æ®åº“
USE learnsphere_ai;

-- å¯¼å…¥æ•°æ®åº“è„šæœ¬ï¼ˆå¦‚æœæœ‰ï¼‰
SOURCE /path/to/schema.sql;
```

##### 2.2 é…ç½®Redis

```bash
# å¯åŠ¨RedisæœåŠ¡
redis-server

# æˆ–ä½¿ç”¨Dockerå¯åŠ¨
docker run -d -p 6379:6379 --name redis redis:latest
```

##### 2.3 é…ç½®application.yml

```yaml
# src/main/resources/application.yml
spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/learnsphere_ai?useUnicode=true&characterEncoding=utf8&serverTimezone=Asia/Shanghai
    username: root
    password: chen20040209
  
  redis:
    host: localhost
    port: 6379
    password: 
    database: 0

# MyBatis-Plusé…ç½®
mybatis-plus:
  mapper-locations: classpath*:/mapper/**/*.xml
  type-aliases-package: com.learnsphere.entity
  configuration:
    map-underscore-to-camel-case: true
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl

# Sa-Tokené…ç½®
sa-token:
  token-name: satoken
  timeout: 2592000
  active-timeout: -1
  is-concurrent: true
  is-share: true
  token-style: uuid
  is-log: false
```

##### 2.4 å¯åŠ¨åç«¯æœåŠ¡

```bash
# è¿›å…¥åç«¯ç›®å½•
cd backend

# ä½¿ç”¨Mavenç¼–è¯‘
mvn clean install

# å¯åŠ¨Spring Bootåº”ç”¨
mvn spring-boot:run

# æˆ–ç›´æ¥è¿è¡ŒjaråŒ…
java -jar target/learnsphere-ai-backend.jar
```

åç«¯æœåŠ¡é»˜è®¤è¿è¡Œåœ¨ï¼š`http://localhost:8080`

#### 3. å‰ç«¯ç¯å¢ƒæ­å»º

##### 3.1 å®‰è£…ä¾èµ–

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd frontend-vue

# ä½¿ç”¨ npm å®‰è£…
npm install

# æˆ–ä½¿ç”¨ yarn
yarn install

# æˆ–ä½¿ç”¨ pnpm
pnpm install
```

##### 3.2 é…ç½®ç¯å¢ƒå˜é‡

åœ¨ `frontend-vue` ç›®å½•åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶ï¼š

```bash
# .env.developmentï¼ˆå¼€å‘ç¯å¢ƒï¼‰
VITE_API_BASE_URL=http://localhost:8080/api
VITE_APP_TITLE=LearnSphere AI - å¼€å‘ç¯å¢ƒ

# .env.productionï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
VITE_API_BASE_URL=https://api.learnsphere.ai
VITE_APP_TITLE=LearnSphere AI
```

##### 3.3 å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆé»˜è®¤ç«¯å£ï¼š5173ï¼‰
npm run dev

# æŒ‡å®šç«¯å£å¯åŠ¨
npm run dev -- --port 3000
```

å‰ç«¯åº”ç”¨é»˜è®¤è¿è¡Œåœ¨ï¼š`http://localhost:5173`

#### 4. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š`http://localhost:5173`

---

## é¡¹ç›®ç»“æ„

### ç›®å½•ç»“æ„

```
frontend-vue/
â”œâ”€â”€ public/                    # é™æ€èµ„æºç›®å½•
â”‚   â””â”€â”€ vite.svg              # ç½‘ç«™å›¾æ ‡
â”œâ”€â”€ src/                      # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ assets/               # èµ„æºæ–‡ä»¶
â”‚   â”‚   â””â”€â”€ vue.svg          # Vue logo
â”‚   â”œâ”€â”€ components/           # å…¬å…±ç»„ä»¶
â”‚   â”‚   â””â”€â”€ HelloWorld.vue   # ç¤ºä¾‹ç»„ä»¶
â”‚   â”œâ”€â”€ data/                 # æ•°æ®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ vocabulary.js    # è¯æ±‡æ•°æ®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ cet4_words.js    # CET-4è¯æ±‡
â”‚   â”‚   â”œâ”€â”€ cet6_words.js    # CET-6è¯æ±‡
â”‚   â”‚   â”œâ”€â”€ ielts_words.js   # é›…æ€è¯æ±‡
â”‚   â”‚   â”œâ”€â”€ toefl_words.js   # æ‰˜ç¦è¯æ±‡
â”‚   â”‚   â”œâ”€â”€ gre_words.js     # GREè¯æ±‡
â”‚   â”‚   â”œâ”€â”€ grammar-exercises.js        # è¯­æ³•ç»ƒä¹ æ•°æ®
â”‚   â”‚   â”œâ”€â”€ reading-comprehension-*.js  # é˜…è¯»ç†è§£æ•°æ®
â”‚   â”‚   â””â”€â”€ vocabulary_index.js         # è¯æ±‡ç´¢å¼•
â”‚   â”œâ”€â”€ layouts/              # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ DefaultLayout.vue # é»˜è®¤å¸ƒå±€
â”‚   â”‚   â””â”€â”€ AdminLayout.vue   # ç®¡ç†åå°å¸ƒå±€
â”‚   â”œâ”€â”€ router/               # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ index.js         # è·¯ç”±å®šä¹‰
â”‚   â”œâ”€â”€ stores/               # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ user.js          # ç”¨æˆ·çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ learning.js      # å­¦ä¹ çŠ¶æ€
â”‚   â”‚   â””â”€â”€ ai.js            # AIç³»ç»ŸçŠ¶æ€
â”‚   â”œâ”€â”€ utils/                # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ request.js       # HTTPè¯·æ±‚å°è£…
â”‚   â”‚   â”œâ”€â”€ storage.js       # æœ¬åœ°å­˜å‚¨å·¥å…·
â”‚   â”‚   â””â”€â”€ helpers.js       # è¾…åŠ©å‡½æ•°
â”‚   â”œâ”€â”€ views/                # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Home.vue         # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ Vocabulary.vue   # è¯æ±‡å­¦ä¹ 
â”‚   â”‚   â”œâ”€â”€ Grammar.vue      # è¯­æ³•ç»ƒä¹ 
â”‚   â”‚   â”œâ”€â”€ Reading.vue      # é˜…è¯»ç†è§£
â”‚   â”‚   â”œâ”€â”€ Profile.vue      # ç”¨æˆ·ä¸­å¿ƒ
â”‚   â”‚   â””â”€â”€ Admin.vue        # ç®¡ç†åå°
â”‚   â”œâ”€â”€ App.vue              # æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ main.js              # å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ style.css            # å…¨å±€æ ·å¼
â”œâ”€â”€ .gitignore               # Gitå¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ index.html               # HTMLæ¨¡æ¿
â”œâ”€â”€ package.json             # é¡¹ç›®é…ç½®
â”œâ”€â”€ postcss.config.js        # PostCSSé…ç½®
â”œâ”€â”€ vite.config.js           # Viteé…ç½®
â””â”€â”€ README.md                # é¡¹ç›®è¯´æ˜
```

### æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

#### main.js - åº”ç”¨å…¥å£
```javascript
import { createApp } from 'vue'
import { createPinia } from 'pinia'
import App from './App.vue'
import router from './router'

const pinia = createPinia()
const app = createApp(App)

app.use(pinia)
app.use(router)
app.mount('#app')
```

#### vite.config.js - æ„å»ºé…ç½®
```javascript
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'

export default defineConfig({
  plugins: [vue()],
  server: {
    port: 5173,
    open: true
  },
  build: {
    outDir: 'dist',
    sourcemap: false
  }
})
```

---

## æ ¸å¿ƒæ¨¡å—

### 1. è·¯ç”±ç³»ç»Ÿ

#### è·¯ç”±é…ç½®ç¤ºä¾‹

```javascript
// src/router/index.js
import { createRouter, createWebHistory } from 'vue-router'

const routes = [
  {
    path: '/',
    name: 'Home',
    component: () => import('../views/Home.vue')
  },
  {
    path: '/vocabulary',
    name: 'Vocabulary',
    component: () => import('../views/Vocabulary.vue'),
    meta: { requiresAuth: true }
  },
  {
    path: '/grammar',
    name: 'Grammar',
    component: () => import('../views/Grammar.vue'),
    meta: { requiresAuth: true }
  }
]

const router = createRouter({
  history: createWebHistory(),
  routes
})

// è·¯ç”±å®ˆå«
router.beforeEach((to, from, next) => {
  const isAuthenticated = localStorage.getItem('token')
  
  if (to.meta.requiresAuth && !isAuthenticated) {
    next('/login')
  } else {
    next()
  }
})

export default router
```

### 2. çŠ¶æ€ç®¡ç†

#### Pinia Store ç¤ºä¾‹

```javascript
// src/stores/user.js
import { defineStore } from 'pinia'
import { login as loginApi, logout as logoutApi } from '@/api/user'

export const useUserStore = defineStore('user', {
  state: () => ({
    userInfo: null,
    token: null,
    isLoggedIn: false
  }),
  
  getters: {
    username: (state) => state.userInfo?.username || '',
    userId: (state) => state.userInfo?.id || null
  },
  
  actions: {
    // ç™»å½•
    async login(credentials) {
      try {
        const response = await loginApi(credentials)
        this.token = response.data.satoken
        this.userInfo = response.data.user
        this.isLoggedIn = true
        localStorage.setItem('satoken', this.token)
      } catch (error) {
        console.error('ç™»å½•å¤±è´¥:', error)
        throw error
      }
    },
    
    // ç™»å‡º
    async logout() {
      try {
        await logoutApi()
      } finally {
        this.token = null
        this.userInfo = null
        this.isLoggedIn = false
        localStorage.removeItem('satoken')
      }
    },
    
    // ä»æœ¬åœ°å­˜å‚¨æ¢å¤ç™»å½•çŠ¶æ€
    restoreLogin() {
      const token = localStorage.getItem('satoken')
      if (token) {
        this.token = token
        this.isLoggedIn = true
      }
    }
  }
})
```

### 3. HTTPè¯·æ±‚å°è£…

```javascript
// src/utils/request.js
import axios from 'axios'
import { useMessage } from 'naive-ui'

const message = useMessage()

const request = axios.create({
  baseURL: import.meta.env.VITE_API_BASE_URL,
  timeout: 10000,
  headers: {
    'Content-Type': 'application/json;charset=UTF-8'
  }
})

// è¯·æ±‚æ‹¦æˆªå™¨
request.interceptors.request.use(
  config => {
    // ä»localStorageè·å–Sa-Token
    const token = localStorage.getItem('satoken')
    if (token) {
      config.headers['satoken'] = token
    }
    return config
  },
  error => {
    console.error('è¯·æ±‚é”™è¯¯:', error)
    return Promise.reject(error)
  }
)

// å“åº”æ‹¦æˆªå™¨
request.interceptors.response.use(
  response => {
    const res = response.data
    
    // æ ¹æ®åç«¯è¿”å›çš„codeåˆ¤æ–­
    if (res.code === 200) {
      return res
    } else {
      message.error(res.message || 'è¯·æ±‚å¤±è´¥')
      return Promise.reject(new Error(res.message || 'è¯·æ±‚å¤±è´¥'))
    }
  },
  error => {
    console.error('å“åº”é”™è¯¯:', error)
    
    if (error.response) {
      switch (error.response.status) {
        case 401:
          // æœªæˆæƒï¼Œæ¸…é™¤tokenå¹¶è·³è½¬ç™»å½•
          localStorage.removeItem('satoken')
          window.location.href = '/login'
          message.error('ç™»å½•å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•')
          break
        case 403:
          message.error('æ²¡æœ‰æƒé™è®¿é—®')
          break
        case 404:
          message.error('è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨')
          break
        case 500:
          message.error('æœåŠ¡å™¨é”™è¯¯')
          break
        default:
          message.error(error.response.data?.message || 'è¯·æ±‚å¤±è´¥')
      }
    } else {
      message.error('ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥')
    }
    
    return Promise.reject(error)
  }
)

export default request
```

### 4. æœ¬åœ°å­˜å‚¨å·¥å…·

```javascript
// src/utils/storage.js

/**
 * æœ¬åœ°å­˜å‚¨å·¥å…·ç±»
 */
class Storage {
  /**
   * è®¾ç½®å­˜å‚¨é¡¹
   */
  set(key, value) {
    try {
      const data = JSON.stringify(value)
      localStorage.setItem(key, data)
    } catch (error) {
      console.error('å­˜å‚¨å¤±è´¥:', error)
    }
  }
  
  /**
   * è·å–å­˜å‚¨é¡¹
   */
  get(key, defaultValue = null) {
    try {
      const data = localStorage.getItem(key)
      return data ? JSON.parse(data) : defaultValue
    } catch (error) {
      console.error('è¯»å–å¤±è´¥:', error)
      return defaultValue
    }
  }
  
  /**
   * åˆ é™¤å­˜å‚¨é¡¹
   */
  remove(key) {
    localStorage.removeItem(key)
  }
  
  /**
   * æ¸…ç©ºæ‰€æœ‰å­˜å‚¨
   */
  clear() {
    localStorage.clear()
  }
}

export default new Storage()
```

---

## å¼€å‘è§„èŒƒ

### ä»£ç é£æ ¼

#### Vueç»„ä»¶è§„èŒƒ

```vue
<!-- æ¨èçš„ç»„ä»¶ç»“æ„ -->
<template>
  <div class="component-name">
    <!-- æ¨¡æ¿å†…å®¹ -->
  </div>
</template>

<script setup>
// 1. å¯¼å…¥ä¾èµ–
import { ref, computed, onMounted } from 'vue'
import { useRouter } from 'vue-router'

// 2. å®šä¹‰props
const props = defineProps({
  title: {
    type: String,
    required: true
  }
})

// 3. å®šä¹‰emits
const emit = defineEmits(['update', 'delete'])

// 4. å“åº”å¼æ•°æ®
const count = ref(0)

// 5. è®¡ç®—å±æ€§
const doubleCount = computed(() => count.value * 2)

// 6. æ–¹æ³•
const increment = () => {
  count.value++
  emit('update', count.value)
}

// 7. ç”Ÿå‘½å‘¨æœŸ
onMounted(() => {
  console.log('ç»„ä»¶å·²æŒ‚è½½')
})
</script>

<style scoped>
/* ç»„ä»¶æ ·å¼ */
.component-name {
  /* æ ·å¼å®šä¹‰ */
}
</style>
```

#### JavaScriptè§„èŒƒ

```javascript
// 1. ä½¿ç”¨ const å’Œ letï¼Œé¿å…ä½¿ç”¨ var
const API_URL = 'https://api.example.com'
let count = 0

// 2. ä½¿ç”¨ç®­å¤´å‡½æ•°
const add = (a, b) => a + b

// 3. ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²
const message = `Hello, ${username}!`

// 4. ä½¿ç”¨è§£æ„èµ‹å€¼
const { name, age } = user
const [first, second] = array

// 5. ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦
const newArray = [...oldArray, newItem]
const newObject = { ...oldObject, newProp: value }

// 6. ä½¿ç”¨å¯é€‰é“¾
const value = obj?.prop?.subProp

// 7. ä½¿ç”¨ç©ºå€¼åˆå¹¶
const result = value ?? defaultValue
```

### å‘½åè§„èŒƒ

#### æ–‡ä»¶å‘½å
```
ç»„ä»¶æ–‡ä»¶ï¼šPascalCaseï¼ˆå¤§é©¼å³°ï¼‰
  âœ… UserProfile.vue
  âœ… VocabularyCard.vue
  âŒ userProfile.vue
  âŒ vocabulary-card.vue

å·¥å…·æ–‡ä»¶ï¼šcamelCaseï¼ˆå°é©¼å³°ï¼‰
  âœ… request.js
  âœ… storageHelper.js
  âŒ Request.js
  âŒ storage-helper.js

å¸¸é‡æ–‡ä»¶ï¼šUPPER_CASEï¼ˆå¤§å†™ä¸‹åˆ’çº¿ï¼‰
  âœ… API_CONSTANTS.js
  âœ… CONFIG.js
```

#### å˜é‡å‘½å
```javascript
// å¸ƒå°”å€¼ï¼šä½¿ç”¨ is/has/can å‰ç¼€
const isLoading = ref(false)
const hasPermission = computed(() => true)
const canEdit = ref(true)

// æ•°ç»„ï¼šä½¿ç”¨å¤æ•°å½¢å¼
const users = ref([])
const vocabularyList = ref([])

// å¯¹è±¡ï¼šä½¿ç”¨åè¯
const userInfo = ref({})
const config = ref({})

// å‡½æ•°ï¼šä½¿ç”¨åŠ¨è¯å¼€å¤´
const fetchData = async () => {}
const handleClick = () => {}
const validateForm = () => {}
```

### æ³¨é‡Šè§„èŒƒ

```javascript
/**
 * å‡½æ•°åŠŸèƒ½è¯´æ˜
 * @param {string} username - ç”¨æˆ·å
 * @param {number} age - å¹´é¾„
 * @returns {Object} ç”¨æˆ·ä¿¡æ¯å¯¹è±¡
 */
function createUser(username, age) {
  // å®ç°é€»è¾‘
  return { username, age }
}

/**
 * ç»„ä»¶è¯´æ˜
 * @component VocabularyCard
 * @description è¯æ±‡å¡ç‰‡ç»„ä»¶ï¼Œç”¨äºå±•ç¤ºå•è¯ä¿¡æ¯
 */
```

### Gitæäº¤è§„èŒƒ

```bash
# æäº¤æ ¼å¼
<type>(<scope>): <subject>

# ç±»å‹è¯´æ˜
feat:     æ–°åŠŸèƒ½
fix:      ä¿®å¤bug
docs:     æ–‡æ¡£æ›´æ–°
style:    ä»£ç æ ¼å¼è°ƒæ•´
refactor: ä»£ç é‡æ„
test:     æµ‹è¯•ç›¸å…³
chore:    æ„å»º/å·¥å…·é“¾æ›´æ–°

# ç¤ºä¾‹
feat(vocabulary): æ·»åŠ å•è¯æ”¶è—åŠŸèƒ½
fix(grammar): ä¿®å¤è¯­æ³•ç»ƒä¹ æäº¤bug
docs(readme): æ›´æ–°å®‰è£…è¯´æ˜
```

---

## APIæ–‡æ¡£

### åŸºç¡€ä¿¡æ¯

```
Base URL: http://localhost:3000/api
è®¤è¯æ–¹å¼: Bearer Token
æ•°æ®æ ¼å¼: JSON
```

### ç”¨æˆ·ç›¸å…³API

#### ç”¨æˆ·æ³¨å†Œ
```http
POST /api/auth/register
Content-Type: application/json

{
  "username": "string",
  "email": "string",
  "password": "string"
}

Response:
{
  "code": 200,
  "message": "æ³¨å†ŒæˆåŠŸ",
  "data": {
    "userId": "string",
    "token": "string"
  }
}
```

#### ç”¨æˆ·ç™»å½•
```http
POST /api/auth/login
Content-Type: application/json

{
  "username": "string",
  "password": "string"
}

Response:
{
  "code": 200,
  "message": "ç™»å½•æˆåŠŸ",
  "data": {
    "token": "string",
    "user": {
      "id": "string",
      "username": "string",
      "email": "string"
    }
  }
}
```

### è¯æ±‡ç›¸å…³API

#### è·å–è¯æ±‡åˆ—è¡¨
```http
GET /api/vocabulary?type=cet4&page=1&limit=20
Authorization: Bearer {token}

Response:
{
  "code": 200,
  "data": {
    "list": [
      {
        "id": "string",
        "word": "string",
        "phonetic": "string",
        "definition": "string",
        "example": "string"
      }
    ],
    "total": 100,
    "page": 1,
    "limit": 20
  }
}
```

#### æ·»åŠ å­¦ä¹ è®°å½•
```http
POST /api/learning/record
Authorization: Bearer {token}
Content-Type: application/json

{
  "wordId": "string",
  "isCorrect": boolean,
  "timeSpent": number
}

Response:
{
  "code": 200,
  "message": "è®°å½•æˆåŠŸ"
}
```

### é”™è¯¯ç è¯´æ˜

```javascript
200: æˆåŠŸ
400: è¯·æ±‚å‚æ•°é”™è¯¯
401: æœªæˆæƒ
403: ç¦æ­¢è®¿é—®
404: èµ„æºä¸å­˜åœ¨
500: æœåŠ¡å™¨é”™è¯¯
```

---

## æ•°æ®åº“è®¾è®¡

### ç”¨æˆ·è¡¨ (users)

```sql
CREATE TABLE users (
  id VARCHAR(36) PRIMARY KEY,
  username VARCHAR(50) UNIQUE NOT NULL,
  email VARCHAR(100) UNIQUE NOT NULL,
  password VARCHAR(255) NOT NULL,
  avatar VARCHAR(255),
  exam_type VARCHAR(20),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
```

### è¯æ±‡è¡¨ (vocabulary)

```sql
CREATE TABLE vocabulary (
  id VARCHAR(36) PRIMARY KEY,
  word VARCHAR(100) NOT NULL,
  phonetic VARCHAR(100),
  definition TEXT,
  example TEXT,
  exam_type VARCHAR(20),
  difficulty INT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### å­¦ä¹ è®°å½•è¡¨ (learning_records)

```sql
CREATE TABLE learning_records (
  id VARCHAR(36) PRIMARY KEY,
  user_id VARCHAR(36) NOT NULL,
  word_id VARCHAR(36) NOT NULL,
  is_correct BOOLEAN,
  time_spent INT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id),
  FOREIGN KEY (word_id) REFERENCES vocabulary(id)
);
```

---

## æµ‹è¯•æŒ‡å—

### å•å…ƒæµ‹è¯•

```bash
# å®‰è£…æµ‹è¯•ä¾èµ–
npm install -D vitest @vue/test-utils

# è¿è¡Œæµ‹è¯•
npm run test

# è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage
```

### æµ‹è¯•ç¤ºä¾‹

```javascript
// tests/components/VocabularyCard.test.js
import { describe, it, expect } from 'vitest'
import { mount } from '@vue/test-utils'
import VocabularyCard from '@/components/VocabularyCard.vue'

describe('VocabularyCard', () => {
  it('æ­£ç¡®æ¸²æŸ“å•è¯ä¿¡æ¯', () => {
    const wrapper = mount(VocabularyCard, {
      props: {
        word: 'hello',
        definition: 'ä½ å¥½'
      }
    })
    
    expect(wrapper.text()).toContain('hello')
    expect(wrapper.text()).toContain('ä½ å¥½')
  })
})
```

---

## éƒ¨ç½²æŒ‡å—

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# æ„å»º
npm run build

# é¢„è§ˆæ„å»ºç»“æœ
npm run preview
```

### éƒ¨ç½²åˆ°æœåŠ¡å™¨

#### ä½¿ç”¨Nginx

```nginx
server {
    listen 80;
    server_name learnsphere.ai;
    
    root /var/www/learnsphere/dist;
    index index.html;
    
    location / {
        try_files $uri $uri/ /index.html;
    }
    
    location /api {
        proxy_pass http://localhost:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

#### ä½¿ç”¨Docker

```dockerfile
# Dockerfile
FROM node:16-alpine as build
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build

FROM nginx:alpine
COPY --from=build /app/dist /usr/share/nginx/html
COPY nginx.conf /etc/nginx/conf.d/default.conf
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
```

---

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•è§£å†³ç«¯å£å ç”¨é—®é¢˜ï¼Ÿ

```bash
# ä¿®æ”¹ vite.config.js
export default defineConfig({
  server: {
    port: 3000  // ä¿®æ”¹ä¸ºå…¶ä»–ç«¯å£
  }
})
```

### Q: å¦‚ä½•é…ç½®ä»£ç†è§£å†³è·¨åŸŸé—®é¢˜ï¼Ÿ

```javascript
// vite.config.js
export default defineConfig({
  server: {
    proxy: {
      '/api': {
        target: 'http://localhost:3000',
        changeOrigin: true
      }
    }
  }
})
```

### Q: å¦‚ä½•ä¼˜åŒ–æ„å»ºä½“ç§¯ï¼Ÿ

```javascript
// vite.config.js
export default defineConfig({
  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          'vue-vendor': ['vue', 'vue-router', 'pinia'],
          'ui-vendor': ['naive-ui']
        }
      }
    }
  }
})
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- ğŸ“§ Email: dev@learnsphere.ai
- ğŸ’¬ GitHub Issues: https://github.com/learnsphere/learnsphere-ai/issues
- ğŸ“– æ–‡æ¡£: https://docs.learnsphere.ai

---

**æœ€åæ›´æ–°æ—¶é—´**: 2026-01-09
