# LearnSphere å­¦ä¹ ç«¯ä¼˜åŒ–å…¨æ™¯è§„åˆ’

> **é¡¹ç›®**: LearnSphere AI - æ™ºèƒ½è‹±è¯­å­¦ä¹ å¹³å°
> **ç‰ˆæœ¬**: v1.0
> **æ›´æ–°æ—¶é—´**: 2026-02-22
> **ç›®æ ‡**: æ‰“é€ æ²‰æµ¸å¼ã€æ™ºèƒ½åŒ–çš„è‹±è¯­å­¦ä¹ ä½“éªŒ

---

## ğŸ“Š å½“å‰çŠ¶æ€è¯„ä¼°

### âœ… å·²å®ç°åŠŸèƒ½
- AI åŠ©æ•™å¯¹è¯ç³»ç»Ÿ
- å¬åŠ›/é˜…è¯»/å†™ä½œ/è¯­æ³•/è¯æ±‡/å£è¯­ç»ƒä¹ 
- å­¦ä¹ è¿›åº¦è¿½è¸ª
- ç”¨æˆ·ç”»åƒä¸åˆ†æ
- VIP ä¼šå‘˜ä½“ç³»
- æˆå°±ç³»ç»Ÿ

### ğŸ“ˆ ç”¨æˆ·ä½“éªŒç°çŠ¶
| ç»´åº¦ | è¯„åˆ† | è¯´æ˜ |
|------|------|------|
| å­¦ä¹ ä½“éªŒ | â­â­â­â­ | AI å¯¹è¯åŠŸèƒ½å®Œå–„,ä½†äº’åŠ¨æ€§å¯å¢å¼º |
| æ€§èƒ½è¡¨ç° | â­â­â­ | é¡µé¢åŠ è½½å°šå¯,ä½†æœ‰ä¼˜åŒ–ç©ºé—´ |
| ç§»åŠ¨ç«¯ | â­â­â­â­ | å·²æœ‰åŸºç¡€é€‚é…,å¯è¿›ä¸€æ­¥ä¼˜åŒ– |
| ç¦»çº¿èƒ½åŠ› | â­â­ | æ— ç¦»çº¿æ”¯æŒ,ä¾èµ–ç½‘ç»œ |

---

## ğŸ¯ ä¼˜åŒ–è·¯çº¿å›¾

### ğŸ”´ é˜¶æ®µä¸€: å­¦ä¹ ä½“éªŒå¢å¼º (P0 - ç«‹å³å®æ–½)

#### 1.1 AI åŠ©æ•™å‡çº§
**ç›®æ ‡**: æ›´è‡ªç„¶ã€æ›´æ™ºèƒ½çš„å¯¹è¯ä½“éªŒ

**ä¼˜åŒ–æ–¹æ¡ˆ**:
```vue
<!-- components/AITutorEnhanced.vue -->
<template>
  <div class="ai-tutor-enhanced">
    <!-- å¯¹è¯å†å²æ˜¾ç¤º -->
    <ConversationHistory
      :messages="messages"
      @review="reviewMessage"
    />

    <!-- å®æ—¶æ‰“å­—æ•ˆæœ -->
    <StreamingResponse
      :content="currentResponse"
      :is-streaming="isStreaming"
    />

    <!-- å¿«æ·å›å¤æ¨¡æ¿ -->
    <QuickReplies
      :replies="quickReplies"
      @select="sendQuickReply"
    />

    <!-- å­¦ä¹ ç›®æ ‡è¿›åº¦ -->
    <LearningProgress
      :goals="learningGoals"
      :progress="sessionProgress"
    />
  </div>
</template>
```

**æ ¸å¿ƒæ”¹è¿›**:
- âœ… å®æ—¶æµå¼å›å¤ - é€å­—æ˜¾ç¤º AI å›å¤,å‡å°‘ç­‰å¾…æ„Ÿ
- âœ… ä¸Šä¸‹æ–‡è®°å¿† - è®°ä½å¯¹è¯å†å²,æä¾›è¿è´¯ä½“éªŒ
- âœ… å¤šæ¨¡æ€è¾“å…¥ - æ”¯æŒæ–‡å­—ã€è¯­éŸ³ã€å›¾ç‰‡è¾“å…¥
- âœ… å¿«æ·æ“ä½œ - "å†è§£é‡Šä¸€é"ã€"ä¸¾ä¸ªä¾‹å­"ç­‰å¿«æ·æŒ‰é’®

---

#### 1.2 äº’åŠ¨å¼ç»ƒä¹ å‡çº§
**ç›®æ ‡**: è®©ç»ƒä¹ æ›´æœ‰è¶£ã€æ›´æœ‰æ•ˆ

**å•è¯è®°å¿† - é—ªå¡å‡çº§**:
```vue
<template>
  <FlashCard
    :word="currentWord"
    :flipped="isFlipped"
    @flip="handleFlip"
    @next="nextWord"
    @known="markAsKnown"
    @unknown="markAsUnknown"
  >
    <template #front>
      <div class="word-main">{{ currentWord.word }}</div>
      <div class="word-phonetic">{{ currentWord.phonetic }}</div>
      <div class="word-example">{{ currentWord.example }}</div>
    </template>

    <template #back>
      <div class="word-definition">{{ currentWord.definition }}</div>
      <div class="word-synonyms">åŒä¹‰è¯: {{ currentWord.synonyms }}</div>
      <div class="word-antonyms">åä¹‰è¯: {{ currentWord.antonyms }}</div>
    </template>
  </FlashCard>
</template>
```

**å¬åŠ›ç»ƒä¹  - éŸ³é¢‘æ§åˆ¶å¢å¼º**:
```vue
<template>
  <div class="listening-practice">
    <!-- éŸ³é¢‘æ’­æ”¾å™¨ -->
    <AudioPlayer
      :src="audioUrl"
      :speed="playbackSpeed"
      @speed-change="handleSpeedChange"
      @position-change="handlePositionChange"
    >
      <!-- è‡ªå®šä¹‰æ§åˆ¶æ¡ -->
      <template #controls>
        <SpeedControl :speed="playbackSpeed" @change="setSpeed" />
        <BookmarkControl @add="addBookmark" />
        <NoteControl @add="addNote" />
      </template>
    </AudioPlayer>

    <!-- å¬åŠ›é¢˜ç›® -->
    <ListeningQuestions
      :questions="questions"
      :user-answer="userAnswer"
      @submit="checkAnswer"
    />

    <!-- å­¦ä¹ ç»Ÿè®¡ -->
    <LearningStats
      :accuracy="accuracy"
      :time-spent="timeSpent"
      :hints-used="hintsUsed"
    />
  </div>
</template>
```

---

#### 1.3 æ¸¸æˆåŒ–å­¦ä¹ 
**ç›®æ ‡**: æå‡å­¦ä¹ è¶£å‘³æ€§å’Œå‚ä¸åº¦

**å­¦ä¹ å¾½ç« ç³»ç»Ÿ**:
```vue
<template>
  <div class="achievements-showcase">
    <AchievementBadge
      v-for="achievement in achievements"
      :key="achievement.id"
      :achievement="achievement"
      :unlocked="isUnlocked(achievement)"
    />
  </div>
</template>
```

**æ¯æ—¥æŒ‘æˆ˜**:
```vue
<template>
  <DailyChallenge
    :challenge="todayChallenge"
    :progress="challengeProgress"
    :reward="challengeReward"
  />
</template>
```

**å­¦ä¹ æ’è¡Œæ¦œ**:
```vue
<template>
  <Leaderboard
    :type="leaderboardType"
    :timeRange="timeRange"
    :currentUserRank="currentUserRank"
  />
</template>
```

---

### ğŸŸ¡ é˜¶æ®µäºŒ: æ€§èƒ½ä¸ä½“éªŒä¼˜åŒ– (P1 - è¿‘æœŸè§„åˆ’)

#### 2.1 åŠ è½½æ€§èƒ½ä¼˜åŒ–
**é—®é¢˜**: é¦–å±åŠ è½½è¾ƒæ…¢,èµ„æºä½“ç§¯å¤§

**è§£å†³æ–¹æ¡ˆ**:
```javascript
// vite.config.js - å­¦ä¹ ç«¯ç‰¹åŒ–é…ç½®
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import viteImagemin from 'vite-plugin-imagemin'

export default defineConfig({
  base: '/',
  plugins: [
    vue(),
    viteImagemin({
      gifsicle: true,
      optipng: true,
      pngquant: { quality: [0.6, 0.8] }
    })
  ],
  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          'vendor': ['vue', 'vue-router', 'pinia'],
          'ui': ['naive-ui'],
          'echarts': ['echarts/core', 'echarts/charts', 'echarts/components'],
          'utils': ['lodash-es', 'axios', 'hutool-all']
        }
      }
    }
  }
})
```

---

#### 2.2 é¡µé¢è·¯ç”±æ‡’åŠ è½½
```javascript
// router/index.js - å­¦ä¹ ç«¯è·¯ç”±ä¼˜åŒ–
const routes = [
  {
    path: '/',
    component: () => import('@/views/HomePage.vue'),
    meta: { title: 'é¦–é¡µ - LearnSphere AI' }
  },
  {
    path: '/listening',
    component: () => import('@/views/ListeningView.vue'),
    meta: { title: 'å¬åŠ›è®­ç»ƒ - LearnSphere AI', preload: true }
  },
  {
    path: '/reading',
    component: () => import('@/views/ReadingView.vue'),
    meta: { title: 'é˜…è¯»ç†è§£ - LearnSphere AI' }
  },
  {
    path: '/writing',
    component: () => import('@/views/WritingView.vue'),
    meta: { title: 'å†™ä½œç»ƒä¹  - LearnSphere AI' }
  },
  {
    path: '/grammar',
    component: () => import('@/views/GrammarView.vue'),
    meta: { title: 'è¯­æ³•å­¦ä¹  - LearnSphere AI' }
  },
  {
    path: '/vocabulary',
    component: () => import('@//views/VocabularyView.vue'),
    meta: { title: 'è¯æ±‡å­¦ä¹  - LearnSphere AI' }
  },
  {
    path: '/speaking',
    component: () => import('@/views/SpeakingView.vue'),
    meta: { title: å£è¯­ç»ƒä¹  - LearnSphere AI' }
  },
  {
    path: '/exam',
    component: () => import('@/views/ExamView.vue'),
    meta: { title: //: æ¨¡è€ƒæµ‹è¯• - LearnSphere AI' }
  }
]
```

---

#### 2.3 éª¨æ¶å±åŠ è½½
```vue
<!-- ä½¿ç”¨ SkeletonWrapper ç»„ä»¶ -->
<template>
  <skeleton-wrapper
    :loading="loading"
    type="learning-card"
  >
    <!-- å­¦ä¹ å†…å®¹ -->
  </skeleton-wrapper>
</template>
```

---

### ğŸŸ¢ é˜¶æ®µä¸‰: æ™ºèƒ½åŒ–å‡çº§ (P2 - é•¿æœŸè§„åˆ’)

#### 3.1 ä¸ªæ€§åŒ–å­¦ä¹ è·¯å¾„
**åŠŸèƒ½**: AI æ¨èå­¦ä¹ å†…å®¹

**å®ç°**:
```javascript
// services/recommendationEngine.js
export const generateLearningPath = async (userId) => {
  // 1. è·å–ç”¨æˆ·ç”»åƒ
  const userProfile = await fetchUserProfile(userId)

  // 2. åˆ†æå­¦ä¹ æ•°æ®
  const learningData = await analyzeLearningData(userId)

  // 3. AI ç”Ÿæˆä¸ªæ€§åŒ–è·¯å¾„
  const learningPath = await callAI({
    model: 'qwen-plus',
    prompt: `åŸºäºä»¥ä¸‹ç”¨æˆ·æ•°æ®,ç”Ÿæˆä¸ªæ€§åŒ–å­¦ä¹ è·¯å¾„:
      - ç”¨æˆ·ç­‰çº§: ${userProfile.level}
      - å¼ºé¡¹: ${learningData.strengths}
      - å¼±é¡¹: ${learningData.weaknesses}
      - å­¦ä¹ å†å²: ${learningData.history}
    `
  })

  return learningPath
}
```

---

#### 3.2 è‡ªé€‚åº”éš¾åº¦ç³»ç»Ÿ
**åŠŸèƒ½**: æ ¹æ®è¡¨ç°åŠ¨æ€è°ƒæ•´éš¾åº¦

```javascript
// services/adaptiveDifficulty.js
class AdaptiveDifficulty {
  adjustDifficulty(userPerformance, currentDifficulty) {
    const { accuracy, timeSpent } = userPerformance

    // æ­£ç¡®ç‡é«˜ä¸”æ—¶é—´çŸ­ â†’ æé«˜éš¾åº¦
    if (accuracy > 0.9 && timeSpent < averageTime) {
      return Math.min(currentDifficulty + 1, MAX_DIFFICULTY)
    }

    // æ­£ç¡®ç‡ä½æˆ–æ—¶é—´é•¿ â†’ é™ä½éš¾åº¦
    if (accuracy < 0.6 || timeSpent > averageTime * 1.5) {
      return Math.max(currentDifficulty - 1, MIN_DIFFICULTY)
    }

    return currentDifficulty
  }
}
```

---

#### 3.3 å­¦ä¹ æ•°æ®å¤§å±
**åŠŸèƒ½**: å¯è§†åŒ–å­¦ä¹ è¿›åº¦

```vue
<!-- views/StudentDashboard.vue -->
<template>
  <div class="student-dashboard">
    <!-- å­¦ä¹ æ¦‚è§ˆ -->
    <LearningOverview :stats="learningStats" />

    <!-- å­¦ä¹ çƒ­åŠ›å›¾ -->
    <LearningHeatmap :data="heatmapData" />

    <!-- æŠ€èƒ½é›·è¾¾å›¾ -->
    <SkillsRadar :skills="skillsData" />

    <!-- å­¦ä¹ æ—¶é•¿è¶‹åŠ¿ -->
    <StudyTimeChart :data="timeSeriesData" />

    <!-- AI å»ºè®® -->
    <AIInsights :insights="aiInsights" />
  </div>
</template>
```

---

## ğŸ“± ç§»åŠ¨ç«¯ä¸“é¡¹ä¼˜åŒ–

### 4.1 è§¦æ‘¸äº¤äº’ä¼˜åŒ–

#### 4.1.1 æ‰‹åŠ¿æ“ä½œ
- **å·¦æ»‘** - ä¸‹ä¸€é¢˜
- **å³æ»‘** - ä¸Šä¸€é¢˜
- **ä¸Šæ»‘** - æ˜¾ç¤ºé€‰é¡¹
- **ä¸‹æ‹‰** - åˆ·æ–°æ•°æ®

#### 4.1.2 è¯­éŸ³è¾“å…¥
```vue
<template>
  <VoiceInput
    v-model="userAnswer"
    :autoSubmit="true"
    @submit="handleSubmit"
    @error="handleError"
    lang="zh-CN"
  />
</template>
```

#### 4.1.3 éœ‡åŠ¨åé¦ˆ
```css
/* ç§»åŠ¨ç«¯éœ‡åŠ¨åé¦ˆ */
.correct-answer {
  animation: success-pulse 0.5s;
}

.success-pulse {
  animation: success-pulse 0.5s;
}

@keyframes success-pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

/* éœ‡åŠ¨åé¦ˆ */
.wrong-answer {
  animation: error-shake 0.5s;
}

@keyframes error-shake {
  0%, 100% { transform: translateX(0); }
  20%, 60% { transform: translateX(-5px); }
  40%, 80% { transform: translateX(5px); }
}
```

---

### 4.2 ç¦»çº¿å­¦ä¹ æ”¯æŒ

#### 4.2.1 PWA é…ç½®
```javascript
// vite.config.js - PWA æ’ä»¶
import { VitePWA } from 'vite-plugin-pwa'

export default defineConfig({
  plugins: [
    VitePWA({
      registerType: 'autoUpdate',
      workbox: {
        globPatterns: ['**/*.{js,css,html,ico,png,svg,woff2}'],
        runtimeCaching: [
          {
            urlPattern: /^https:\/\/api\.learnsphere\.com\/.*/,
            handler: 'NetworkFirst',
            options: {
              cacheName: 'api-cache',
              expiration: 3600
            }
          },
          {
            urlPattern: /\.(?:png|jpg|jpeg|svg|gif|webp|avif)$/,
            handler: 'CacheFirst',
            options: {
              cacheName: 'image-cache',
              expiration: 2592000 // 30å¤©
            }
          }
        ]
      }
    })
  ]
})
```

#### 4.2.2 ç¦»çº¿ç¼“å­˜ç­–ç•¥
```javascript
// utils/offlineCache.js
export class OfflineCache {
  constructor() {
    this.db = this.initDB()
  }

  initDB() {
    return new Promise((resolve, reject) => {
      const request = indexedDB.open('LearnSphereOffline', 1)
      request.onerror = () => reject(request.error)
      request.onsuccess = () => resolve(request.result)
    })
  }

  async cacheContent(content) {
    const tx = this.db.transaction('contents', 'readwrite')
    await tx.objectStore.put(content)
  }

  async getCachedContent(contentId) {
    const tx = this.db.transaction('contents', 'readonly')
    return await tx.objectStore.get(contentId)
  }
}
```

---

## ğŸ® å­¦ä¹ åŠŸèƒ½å¢å¼º

### 5.1 AI åŠ©æ•™åŠŸèƒ½

#### 5.1.1 å¯¹è¯å†å²ç®¡ç†
```vue
<template>
  <div class="conversation-manager">
    <!-- å†å²ä¼šè¯åˆ—è¡¨ -->
    <ConversationList
      :conversations="conversations"
      @select="selectConversation"
    />

    <!-- å½“å‰å¯¹è¯ -->
    <CurrentConversation
      :messages="currentMessages"
      :ai-tutor="aiTutor"
      @send="sendMessage"
    />
  </div>
</template>
```

#### 5.1.2 å­¦ä¹ ç¬”è®°åŒæ­¥
```javascript
// services/noteSync.js
export const syncNotes = async (notes) => {
  // è‡ªåŠ¨ä¿å­˜ç¬”è®°åˆ°äº‘ç«¯
  await api.post('/learning/notes/sync', { notes })
}

// é˜²æŠ–ä¿å­˜
const debouncedSaveNotes = debounce(syncNotes, 2000)
```

---

### 5.2 ç»ƒä¹ æ¨¡å¼å‡çº§

#### 5.2.1 å•è¯å­¦ä¹ æ¨¡å¼
```vue
<template>
  <VocabularyLearningMode
    :word="currentWord"
    :mode="learningMode"
    @next="nextWord"
  >
    <!-- å­¦ä¹ æ¨¡å¼é€‰æ‹© -->
    <ModeSelector
      v-model="learningMode"
      :modes="['flashcard', 'spelling', 'usage', 'context']"
    />

    <!-- æ ¹æ®æ¨¡å¼æ˜¾ç¤ºä¸åŒUI -->
    <FlashCardMode v-if="learningMode === 'flashcard'" />
    <SpellingMode v-else-if="learningMode === 'spelling'" />
    <UsageMode v-else-if="learningMode === 'usage'" />
    <ContextMode v-else-if="learningMode === 'context'" />
  </VocabularyLearningMode>
</template>
```

#### 5.2.2 å¬åŠ›è·Ÿè¯»æ¨¡å¼
```vue
<template>
  <div class="listening-practice">
    <!-- åŸæ–‡è·Ÿè¯» -->
    <div v-if="mode === 'follow-along'">
      <AudioPlayer
        :src="audioUrl"
        :text="audioText"
        :karaoke="true"
      />
    </div>

    <!-- ç†è§£æ¨¡å¼ -->
    <div v-else>
      <ComprehensionQuestions
        :audio="audioUrl"
        :questions="questions"
      />
    </div>
  </div>
</template>
```

---

### 5.3 æ¸¸æˆåŒ–è¯„ä¼°

#### 5.3.1 è¶£çº§ç³»ç»Ÿ
```javascript
const calculateXP = (action) => {
  const xpMap = {
    // å®Œæˆä¸€æ¬¡å¬åŠ›: +10 XP
    'complete_lesson': 10,
    // è·å¾—æ»¡åˆ†: +20 XP
    'perfect_score': 20,
    // è¿ç»­å­¦ä¹ 7å¤©: +50 XP
    'study_streak_7': 50,
    // è·å¾—æˆå°±: +30 XP
    'achievement_unlocked': 30
  }
  return xpMap[action] || 0
}

const calculateLevel = (totalXP) => {
  const levels = [
    { level: 1, name: 'è‹±è¯­å°ç™½', xp: 0 },
    { level: 2, name: 'åˆå­¦è€…', xp: 100 },
    { level: 3, name: 'è¿›é˜¶è€…', xp: 500 },
    { level: 4, name: 'ç†Ÿç»ƒè€…', xp: 2000 },
    { level: 5, name: 'ç²¾é€šè€…', xp: 5000 }
  ]
  // æŸ¥æ‰¾å½“å‰ç­‰çº§
  return levels.findLast((l, i, arr) =>
    totalXP >= l.xp
  )
}
```

#### 5.3.2 æ’è¡Œæ¦œ
```vue
<template>
  <Leaderboard
    :type="['daily', 'weekly', 'monthly']"
    :category="['studyTime', 'wordsLearned', 'perfectScores']"
  />
</template>
```

---

## ğŸ¨ UI/UX ä½“éªŒä¼˜åŒ–

### 6.1 æ·±è‰²æ¨¡å¼ä¼˜åŒ–

#### 6.1.1 æŠ¤çœ¼æ¨¡å¼
```css
/* æŠ¤çœ¼æ¨¡å¼æ ·å¼ */
.eye-care-mode {
  --bg-primary: #FAFAFA;
  --text-primary: #212121;
  --accent-color: #2196F3;
  --card-bg: #FFFFFF;
  --border-color: #E0E0E0;
}

/* é™ä½å¯¹æ¯”åº¦ */
.low-contrast {
  --text-primary: #424242;
  --border-color: #E0E0E0;
}
```

#### 6.1.2 å­—ä½“å¤§å°è°ƒèŠ‚
```vue
<template>
  <FontSizeSelector
    v-model="fontSize"
    :options="['small', 'medium', 'large', 'extra-large']"
  />
</template>
```

---

### 6.2 å­¦ä¹ ç•Œé¢ä¼˜åŒ–

#### 6.2.1 æ²‰ä¸“æ³¨æ¨¡å¼
```vue
<template>
  <FocusMode
    :enabled="focusMode"
    @enter="enterFocusMode"
    @exit="exitFocusMode"
  >
    <template #default="{ isFocusMode }">
      <!-- å­¦ä¹ å†…å®¹ -->
      <LearningContent :content="learningContent" />

      <!-- éšè—å¹²æ‰°å…ƒç´  -->
      <div v-if="!isFocusMode" class="distractions">
        <Header />
        <Sidebar />
        <Recommendations />
      </div>
    </template>
  </FocusMode>
</template>
```

---

### 6.3 åé¦ˆç³»ç»Ÿ

#### 6.3.1 å³æ—¶åé¦ˆ
```vue
<template>
  <InstantFeedback
    :type="feedbackType"
    :message="feedbackMessage"
    :show="showFeedback"
    @submit="submitFeedback"
  />
</template>
```

#### 6.3.2 è¿›åº¦æç¤º
```vue
<template>
  <ProgressIndicator
    :current="currentStep"
    :total="totalSteps"
    :percentage="progressPercentage"
  />
</template>
```

---

## ğŸš€ æŠ€æœ¯ä¼˜åŒ–

### 7.1 çŠ¶æ€ç®¡ç†ä¼˜åŒ–

#### 7.1.1 Pinia æŒä¹…åŒ–é…ç½®
```javascript
// stores/user.js
import { defineStore } from 'pinia'
import { localStorage } from '@/utils/storage'

export const useUserStore = defineStore('user', {
  state: () => ({
    userInfo: null,
    learningProgress: {},
    achievements: []
  }),

  getters: {
    isLoggedIn: (state) => !!state.userInfo,
    currentLevel: (state) => calculateLevel(state.totalXP)
  },

  actions: {
    initFromStorage() {
      const stored = localStorage.getItem('user')
      if (stored) {
        this.$patch(JSON.parse(stored))
      }
    },

    saveToStorage() {
      localStorage.setItem('user', JSON.stringify({
        userInfo: this.userInfo,
        learningProgress: this.learningProgress,
        achievements: this.achievements
      }))
    }
  }
})
```

---

### 7.2 API è¯·æ±‚ä¼˜åŒ–

#### 7.2.1 å­¦ä¹ è¿›åº¦åŒæ­¥
```javascript
// è‡ªåŠ¨åŒæ­¥å­¦ä¹ è¿›åº¦,é¿å…æ•°æ®ä¸¢å¤±
class LearningProgressSync {
  constructor() {
    this.syncQueue = []
    this.syncInterval = 30000 // 30ç§’åŒæ­¥ä¸€æ¬¡
    this.startAutoSync()
  }

  addSyncTask(task) {
    this.syncQueue.push(task)
  }

  async sync() {
    // æ‰¹é‡ä¸Šä¼ å­¦ä¹ è®°å½•
    await api.post('/learning/progress/sync', {
      records: this.syncQueue
    })
    this.syncQueue = []
  }

  startAutoSync() {
    setInterval(() => {
      if (this.syncQueue.length > 0) {
        this.sync()
      }
    }, this.syncInterval)
  }
}
```

---

### 7.3 å®æ—¶åŠŸèƒ½

#### 7.3.1 WebSocket è¿æ¥
```javascript
// composables/useWebSocket.js
export const useWebSocket = () => {
  const ws = ref(null)
  const connected = ref(false)
  const messageHandlers = new Map()

  const connect = () => {
    ws.value = new WebSocket('ws://localhost:8080/ws/learning')
    ws.value.onopen = () => {
      connected.value = true
      console.log('WebSocket å·²è¿æ¥')
    }
    ws.value.onmessage = (event) => {
      const data = JSON.parse(event.data)
      handleMessage(data)
    }
    ws.value.onclose = () => {
      connected.value = false
      // è‡ªåŠ¨é‡è¿
      setTimeout(connect, 3000)
    }
  }

  const handleMessage = (data) => {
    const handler = messageHandlers.get(data.type)
    if (handler) {
      handler(data.payload)
    }
  }

  const on = (eventType, handler) => {
    messageHandlers.set(eventType, handler)
  }

  const send = (data) => {
    if (connected.value) {
      ws.value.send(JSON.stringify(data))
    }
  }

  return {
    connected,
    connect,
    send,
    on
  }
}
```

---

## ğŸ“Š å­¦ä¹ åˆ†æç³»ç»Ÿ

### 8.1 å­¦ä¹ æ•°æ®æ”¶é›†

#### 8.1.1 è¡Œä¸ºè¿½è¸ª
```javascript
// services/analytics.js
export const trackLearningBehavior = (userId, action, metadata) => {
  const event = {
    userId,
    action, // 'start_lesson', 'complete_exercise', 'wrong_answer'
    metadata,
    timestamp: new Date().toISOString()
  }

  // å‘é€åˆ°åˆ†æå¹³å°
  sendToAnalytics(event)
}

// ä½¿ç”¨ç¤ºä¾‹
trackLearningBehavior(userId, 'start_lesson', {
  lessonId: 123,
  lessonType: 'listening',
  difficulty: 'intermediate'
})
```

#### 8.1.2 å­¦ä¹ è·¯å¾„åˆ†æ
```javascript
// services/learningPath.js
export const analyzeLearningPath = (userId) => {
  // åˆ†æå­¦ä¹ è·¯å¾„
  const path = await fetchLearningPath(userId)

  // è¯†åˆ«ç“¶é¢ˆ
  const bottlenecks = identifyBottlenecks(path)

  // ç”Ÿæˆå»ºè®®
  const recommendations = generateRecommendations(bottlenecks)

  return { path, bottlenecks, recommendations }
}
```

---

### 8.2 å­¦ä¹ æŠ¥å‘Š

#### 8.2.1 å‘¨æŠ¥/æœˆæŠ¥
```vue
<template>
  <LearningReport
    :type="reportType"
    :dateRange="dateRange"
    :data="reportData"
  >
    <!-- å­¦ä¹ æ—¶é•¿ç»Ÿè®¡ -->
    <StudyTimeStats :stats="reportData.studyTime" />

    <!-- æŠ€èƒ½é›·è¾¾å›¾ -->
    <SkillsRadar :skills="reportData.skills" />

    <!-- å­¦ä¹ æ›²çº¿ -->
    <LearningCurve :data="reportData.progress" />

    <!-- AI å»ºè®® -->
    <AIRecommendations :insights="reportData.insights" />
  </LearningReport>
</template>
```

---

## ğŸ¯ å®æ–½è®¡åˆ’

### Week 1-2: ä½“éªŒä¼˜åŒ–
- [ ] AI åŠ©æ•™æµå¼å›å¤
- [ ] äº’åŠ¨å¼ç»ƒä¹ å‡çº§
- [ ] æ¸¸æˆåŒ–å­¦ä¹ å…ƒç´ 
- [ ] å­¦ä¹ è¿›åº¦å¯è§†åŒ–

### Week 3-4: æ€§èƒ½ä¼˜åŒ–
- [ ] é¦–å±åŠ è½½ä¼˜åŒ–
- [ ] è·¯ç”±æ‡’åŠ è½½
- [ ] å›¾ç‰‡å‹ç¼©
- [ ] API ç¼“å­˜

### Week 5-6: ç§»åŠ¨ç«¯ä¼˜åŒ–
- [ ] è§¦æ‘¸äº¤äº’ä¼˜åŒ–
- [ ] æ‰‹åŠ¿æ“ä½œ
- [ ] è¯­éŸ³è¾“å…¥
- [ ] PWA æ”¯æŒ

### Week 7-8: æ™ºèƒ½åŒ–å‡çº§
- [ ] ä¸ªæ€§åŒ–æ¨è
- [ ] è‡ªé€‚åº”éš¾åº¦
- [ ] AI å­¦ä¹ åŠ©æ‰‹
- [ ] å­¦ä¹ æ•°æ®åˆ†æ

---

## ğŸ“ˆ æˆåŠŸæŒ‡æ ‡

### å­¦ä¹ æ•ˆæœæŒ‡æ ‡
- å¹³å‡å­¦ä¹ æ—¶é•¿ â†‘ 30%
- ç”¨æˆ·ç•™å­˜ç‡ â†‘ 20%
- å­¦ä¹ å®Œæˆç‡ â†‘ 25%
- ç”¨æˆ·æ»¡æ„åº¦ > 4.5/5.0

### æ€§èƒ½æŒ‡æ ‡
- é¦–å±åŠ è½½æ—¶é—´ < 1s
- TTI < 1.5s
- Lighthouse å¾—åˆ† > 90
- PWA å®‰è£…ç‡ > 40%

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆå»ºè®®

### å‰ç«¯ä¼˜åŒ–
- **Vue 3.3+** - Composition API ä¼˜åŒ–
- **Pinia 2.0+** - çŠ¶æ€ç®¡ç†
- **VueUse 10.x** - ç»„åˆå¼ API
- **Vite 5.0+** - æ„å»ºå·¥å…·

### æ–°å¢æŠ€æœ¯
- **Web Speech API** - è¯­éŸ³è¾“å…¥/è¾“å‡º
- **Web Worker** - åå°å¤„ç†
- **Service Worker** - ç¦»çº¿æ”¯æŒ
- **IndexedDB** - æœ¬åœ°å­˜å‚¨

---

## ğŸ“ å¼€å‘å»ºè®®

### ä»£ç ç»„ç»‡
```
src/
â”œâ”€â”€ components/          # é€šç”¨ç»„ä»¶
â”œâ”€â”€ views/              # é¡µé¢è§†å›¾
â”œâ”€â”€ composables/        # ç»„åˆå¼å‡½æ•°
â”œâ”€â”€ services/           # ä¸šåŠ¡é€»è¾‘
â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â””â”€â”€ stores/             # çŠ¶æ€ç®¡ç†
```

### æ€§èƒ½ä¼˜åŒ–
- ä½¿ç”¨ `v-once` ä¼˜åŒ–åˆ—è¡¨æ¸²æŸ“
- ä½¿ç”¨ `shallowRef` ä¼˜åŒ–å¤§æ•°æ®
- ä½¿ç”¨ `computed` ç¼“å­˜è®¡ç®—ç»“æœ
- ä½¿ç”¨ `defineAsyncComponent` å»¶è¿ŸåŠ è½½

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç«‹å³ä¼˜åŒ–(æœ¬å‘¨)
```bash
# å®‰è£…å¿…è¦ä¾èµ–
npm install vueuse @vueuse/core lodash-es -S

# è¿è¡Œé¡¹ç›®
npm run dev
```

### 2. å®æ–½ä¼˜å…ˆçº§
```
P0 (ç°åœ¨): éª¨æ¶å±ã€ç§»åŠ¨ç«¯ä¼˜åŒ–
P1 (æœ¬å‘¨): å›¾ç‰‡ä¼˜åŒ–ã€API ç¼“å­˜
P2 (æœ¬æœˆ): æ¸¸æˆåŒ–ã€ä¸ªæ€§åŒ–
P3 (ä¸‹æœˆ): PWAã€æ•°æ®åˆ†æ
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [ç®¡ç†åå°ä¼˜åŒ–æŒ‡å—](../admin-vue/docs/optimization/)

---

**è®©å­¦ä¹ æ›´é«˜æ•ˆ,è®© AI åŠ©æ•™æ›´æ™ºèƒ½!** ğŸ“âœ¨
