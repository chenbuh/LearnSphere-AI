# 管理员控制台完整使用指南

## 📋 目录

1. [概述](#概述)
2. [访问控制台](#访问控制台)
3. [功能模块](#功能模块)
4. [核心特性](#核心特性)
5. [使用技巧](#使用技巧)
6. [API文档](#api文档)

---

## 📊 概述

LearnSphere AI 管理员控制台是一个现代化的后台管理系统，提供：

- 📈 **实时数据监控** - 自动刷新的仪表板
- 👥 **用户管理** - 批量操作、高级筛选
- 📚 **内容管理** - 词汇、语法、阅读、听力内容
- 📊 **学习分析** - 多维度数据分析
- ⚙️ **系统设置** - 灵活的配置选项
- 📋 **操作日志** - 完整的审计追踪

---

## 🔐 访问控制台

### 管理员账号

系统预设管理员账号：
- **用户名**: `admin`
- **密码**: `admin123`
- **角色**: 管理员

### 登录步骤

1. 使用管理员账号登录主系统
2. 导航栏会显示金色的"管理后台"按钮（👑图标）
3. 点击按钮，在新标签页打开管理控制台

> ⚠️ **安全提示**：
> - 管理入口仅管理员可见
> - 首次登录后请立即修改密码
> - 定期备份系统数据

---

## 🎯 功能模块

### 1. 数据概览

**实时统计卡片**：
- 总用户数 + 新增趋势
- 学习会话数 + 今日统计
- 总学习时长 + 今日时长
- 活跃用户数（7天内）

**可视化图表**：
- 📊 **用户增长趋势** - 近7天学习会话柱状图
- 🥧 **学习活动分布** - 按模块统计的饼图
  - 词汇学习
  - 语法练习
  - 听力训练
  - 阅读理解
  - 写作练习

**最近活动**：
- 实时显示最新10条学习活动
- 活动类型图标标识
- 相对时间显示

### 2. 用户管理

**核心功能**：
- ✅ 添加新用户
- ✏️ 编辑用户信息
- 🗑️ 删除单个用户
- 📦 批量删除用户

**高级筛选**：
- 按角色筛选（全部/管理员/普通用户）
- 实时搜索（用户名、ID）
- 全选/取消全选

**用户信息显示**：
- ID、用户名、角色
- 注册时间、最后登录
- 学习进度（可视化进度条）
- 操作按钮（查看/编辑/删除）

### 3. 内容管理

**内容类型**：
- 📚 词汇库管理
- 🎯 语法规则
- 📖 阅读文章
- 🎧 听力材料

**操作功能**：
- 添加新内容
- 编辑现有内容
- 删除内容
- 内容预览

### 4. 学习分析

**时间范围筛选**：
- 最近7天
- 最近30天
- 最近3个月
- 最近1年

**模块筛选**：
- 所有模块
- 词汇学习
- 语法练习
- 阅读理解
- 听力训练

**关键指标**：
- 📊 平均学习时长（分钟）
- 🎯 平均准确率（百分比）
- ✅ 完成率（百分比）

### 5. 系统设置

**基本设置**：
- 站点名称
- 允许注册开关
- 默认语言（中文/英文）

**学习设置**：
- 每日默认词汇目标（10-200）
- 考试模式时间限制（30-300分钟）
- AI推荐功能开关

**数据管理**：
- 📥 导出所有数据（JSON格式）
- 📤 导入数据（恢复备份）
- 🗑️ 清空数据库（双重确认）

### 6. 操作日志

**日志类型**：
- 登录记录
- 用户管理操作
- 内容管理操作
- 系统设置变更

**功能**：
- 按类型筛选
- 时间戳显示
- 操作者信息
- 清空日志

---

## 🚀 核心特性

### 1. 实时数据刷新

- ⏰ **自动刷新**：每30秒自动更新数据
- 🔄 **手动刷新**：点击刷新按钮立即更新
- 👁️ **智能暂停**：标签页不可见时自动暂停刷新
- ⚡ **恢复刷新**：返回标签页时自动恢复

### 2. 响应式设计

**桌面端**（>1200px）：
- 完整侧边栏
- 4列统计卡片网格
- 双列图表布局

**平板端**（768px-1200px）：
- 完整侧边栏
- 2列统计卡片网格
- 单列图表布局

**移动端**（<768px）：
- 可折叠侧边栏
- 单列统计卡片
- 优化的表格横向滚动
- 自适应按钮布局

### 3. 主题切换

- 🌙 深色模式
- ☀️ 浅色模式
- 自动保存偏好设置

### 4. 数据可视化

**用户增长趋势图**：
- 近7天数据
- 动态柱状图
- 渐变色填充
- 悬停交互

**活动分布饼图**：
- SVG矢量图形
- 多彩配色方案
- 百分比显示
- 图例说明

---

## 💡 使用技巧

### 批量操作

1. 勾选表格左侧复选框
2. 选中多个用户
3. 点击"批量删除"按钮
4. 确认操作

### 快速筛选

1. 使用角色下拉框筛选用户类型
2. 输入搜索框实时过滤
3. 组合使用获得精确结果

### 数据导出

1. 进入"系统设置"
2. 点击"导出所有数据"
3. 保存JSON文件
4. 文件名格式：`learnsphere-data-{时间戳}.json`

### 数据恢复

1. 点击"导入数据"
2. 选择之前导出的JSON文件
3. 确认导入（会覆盖现有数据）
4. 刷新页面查看恢复结果

---

## 🔌 API文档

### 认证

所有API请求需要在Header中包含JWT Token：

```
Authorization: Bearer {token}
```

### 用户管理API

#### 获取所有用户
```http
GET /api/admin/users
```

#### 创建用户
```http
POST /api/admin/users
Content-Type: application/json

{
  "username": "newuser",
  "password": "password123",
  "role": "user"
}
```

#### 更新用户
```http
PUT /api/admin/users/:id
Content-Type: application/json

{
  "username": "updateduser",
  "role": "admin"
}
```

#### 删除用户
```http
DELETE /api/admin/users/:id
```

### 统计数据API

#### 获取系统统计
```http
GET /api/admin/stats
```

响应示例：
```json
{
  "totalUsers": 150,
  "totalSessions": 3420,
  "activeUsers": 45,
  "totalTime": 12500
}
```

---

## ⚙️ 高级配置

### 自定义刷新间隔

在 `admin.js` 中修改：

```javascript
this.refreshIntervalTime = 30000; // 毫秒，默认30秒
```

### 调整日志保留数量

```javascript
localStorage.setItem('admin_logs', JSON.stringify(this.logs.slice(0, 1000)));
// 保留最新1000条日志
```

### 自定义主题颜色

在 `admin.css` 中修改CSS变量：

```css
:root {
    --admin-primary: #667eea;
    --admin-secondary: #764ba2;
    --admin-success: #10b981;
    --admin-warning: #f59e0b;
    --admin-danger: #ef4444;
}
```

---

## 🛠️ 故障排除

### 问题：无法看到管理入口

**解决方案**：
1. 确认使用管理员账号登录
2. 检查 `localStorage.role === 'admin'`
3. 清除浏览器缓存后重新登录

### 问题：数据不更新

**解决方案**：
1. 点击刷新按钮手动刷新
2. 检查浏览器控制台错误
3. 确认网络连接正常

### 问题：图表不显示

**解决方案**：
1. 确保有学习数据
2. 检查浏览器兼容性
3. 清除缓存重新加载

---

## 📝 更新日志

### v1.0.0 (2025-10-06)

**新增功能**：
- ✅ 完整的仪表板数据可视化
- ✅ 用户批量操作和高级筛选
- ✅ 实时数据自动刷新
- ✅ 响应式移动端适配
- ✅ 主题切换功能
- ✅ 操作日志审计

**优化改进**：
- 📊 美化数据图表
- 🎨 优化UI/UX设计
- ⚡ 提升性能表现
- 🔒 增强安全性

---

## 📞 支持

如有问题或建议，请：
- 查看文档：`/docs`
- 检查日志：管理控制台 > 操作日志
- 联系开发团队

---

**LearnSphere AI 管理控制台** - 让管理更智能 🚀

