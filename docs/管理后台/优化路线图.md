# LearnSphere ç®¡ç†åå°ä¼˜åŒ–å…¨æ™¯è§„åˆ’

> **ç‰ˆæœ¬**: v1.0
> **æ›´æ–°æ—¶é—´**: 2026-02-22
> **ç›®æ ‡**: æ‰“é€ ä¸€æµçš„ä¼ä¸šçº§ç®¡ç†åå°ä½“éªŒ

---

## ğŸ“Š å½“å‰çŠ¶æ€è¯„ä¼°

### âœ… å·²å®Œæˆçš„ä¼˜åŒ– (v1.0)

#### 1. åŸºç¡€è®¾æ–½ä¼˜åŒ–
- [x] éª¨æ¶å±åŠ è½½ç³»ç»Ÿ
- [x] è·¯ç”±æ‡’åŠ è½½
- [x] ä»£ç åˆ†å‰²
- [x] ç§»åŠ¨ç«¯ä¾§è¾¹æ ä¼˜åŒ–
- [x] åŒæ»šåŠ¨é—®é¢˜ä¿®å¤
- [x] å†…å®¹æ˜¾ç¤ºå®Œæ•´æ€§ä¿®å¤

#### 2. ç»„ä»¶åº“å»ºè®¾
- [x] DetailDrawer - ä¾§è¾¹æŠ½å±‰ç»„ä»¶
- [x] CommandPalette - å…¨å±€å‘½ä»¤é¢æ¿
- [x] SkeletonLoader - éª¨æ¶å±ç»„ä»¶
- [x] Sparkline - è¿·ä½ è¶‹åŠ¿å›¾
- [x] RethinkSandbox - AI ä¼˜åŒ–æ²™ç®±

#### 3. ç”¨æˆ·ä½“éªŒ
- [x] æ·±è‰²ä¸»é¢˜é€‚é…
- [x] å“åº”å¼å¸ƒå±€
- [x] å¹³æ»‘é¡µé¢è¿‡æ¸¡
- [x] é”™è¯¯è¾¹ç•Œå¤„ç†

### ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡ç°çŠ¶

| æŒ‡æ ‡ | å½“å‰å€¼ | ç›®æ ‡å€¼ | çŠ¶æ€ |
|------|--------|--------|------|
| é¦–å±åŠ è½½æ—¶é—´ | ~1.2s | <1s | ğŸŸ¡ æ¥è¿‘ |
| TTI (å¯äº¤äº’æ—¶é—´) | ~1.8s | <1.5s | ğŸŸ¡ æ¥è¿‘ |
| Lighthouse æ€§èƒ½å¾—åˆ† | 85 | >90 | ğŸŸ¡ æ¥è¿‘ |
| åŒ…å¤§å° (gzipped) | ~420KB | <300KB | ğŸŸ¡ éœ€ä¼˜åŒ– |

---

## ğŸ¯ ä¼˜åŒ–è·¯çº¿å›¾

### ğŸ”´ é˜¶æ®µä¸€: æ€§èƒ½ä¼˜åŒ– (P0 - ç«‹å³å®æ–½)

#### 1.1 å›¾ç‰‡èµ„æºä¼˜åŒ–
**é—®é¢˜**: å›¾ç‰‡æœªä¼˜åŒ–,åŠ è½½ç¼“æ…¢

**è§£å†³æ–¹æ¡ˆ**:
```javascript
// vite.config.js - å›¾ç‰‡å‹ç¼©æ’ä»¶
import viteImagemin from 'vite-plugin-imagemin'

export default defineConfig({
  plugins: [
    vue(),
    viteImagemin({
      gifsicle: true,
      optipng: true,
      pngquant: true,
      svgo: true,
      jpegTran: true
    })
  ]
})

// ä½¿ç”¨ WebP æ ¼å¼
<n-image
  :img-props="{ loading: 'lazy' }"
  src="/images/logo.png"
  :fallback-src="/images/logo.webp"
/>
```

**é¢„æœŸæ”¶ç›Š**: é¦–å±åŠ è½½æ—¶é—´ â†“ 30%

---

#### 1.2 API è¯·æ±‚ä¼˜åŒ–
**é—®é¢˜**: æ¥å£è¯·æ±‚æœªåˆå¹¶,å­˜åœ¨ N+1 é—®é¢˜

**è§£å†³æ–¹æ¡ˆ**:
```javascript
// api/index.js - è¯·æ±‚åˆå¹¶
import { pRequest } from '@/utils/request'

// å¹¶å‘è¯·æ±‚ä¼˜åŒ–
export const fetchDashboardData = async () => {
  const [stats, userGrowth, financeData] = await Promise.all([
    pRequest.get('/admin/stats'),
    pRequest.get('/admin/user-growth'),
    pRequest.get('/admin/finance/stats')
  ])
  return { stats, userGrowth, financeData }
}

// è¯·æ±‚ç¼“å­˜
const cache = new Map()
const getCached = (key, fetcher, ttl = 60000) => {
  if (cache.has(key)) {
    return Promise.resolve(cache.get(key))
  }
  return fetcher().then(data => {
    cache.set(key, data)
    setTimeout(() => cache.delete(key), ttl)
    return data
  })
}
```

**é¢„æœŸæ”¶ç›Š**: API å“åº”æ—¶é—´ â†“ 50%

---

#### 1.3 è™šæ‹Ÿæ»šåŠ¨
**é—®é¢˜**: å¤§åˆ—è¡¨æ¸²æŸ“å¡é¡¿

**è§£å†³æ–¹æ¡ˆ**:
```vue
<!-- ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨æ›¿ä»£æ™®é€šæ»šåŠ¨ -->
<template>
  <n-virtual-list
    :items="largeList"
    :item-size="50"
    :item-resizable="true"
    :page-size="20"
  >
    <template #default="{ item }">
      <UserRow :user="item" />
    </template>
  </n-virtual-list>
</template>
```

**é¢„æœŸæ”¶ç›Š**: åˆ—è¡¨æ¸²æŸ“æ€§èƒ½ â†‘ 80%

---

#### 1.4 é˜²æŠ–ä¸èŠ‚æµ
**é—®é¢˜**: æœç´¢ã€æ»šåŠ¨äº‹ä»¶æœªä¼˜åŒ–

**è§£å†³æ–¹æ¡ˆ**:
```javascript
// utils/performance.js
import { debounce, throttle } from 'lodash-es'

export const usePerformance = () => {
  return {
    // æœç´¢é˜²æŠ–
    handleSearch: debounce((value) => {
      console.log('æœç´¢:', value)
    }, 300),

    // æ»šåŠ¨èŠ‚æµ
    handleScroll: throttle((event) => {
      console.log('æ»šåŠ¨:', event)
    }, 100),

    // çª—å£å¤§å°è°ƒæ•´é˜²æŠ–
    handleResize: debounce(() => {
      console.log('çª—å£å¤§å°æ”¹å˜')
    }, 200)
  }
}
```

**é¢„æœŸæ”¶ç›Š**: äº¤äº’å“åº”é€Ÿåº¦ â†‘ 60%

---

### ğŸŸ¡ é˜¶æ®µäºŒ: åŠŸèƒ½å¢å¼º (P1 - è¿‘æœŸè§„åˆ’)

#### 2.1 é«˜çº§ç­›é€‰ç³»ç»Ÿ
**åŠŸèƒ½**: å¤šæ¡ä»¶ç»„åˆç­›é€‰

**å®ç°**:
```vue
<!-- components/AdvancedFilter.vue -->
<template>
  <n-card title="é«˜çº§ç­›é€‰">
    <n-form>
      <n-form-item label="ç­›é€‰é€»è¾‘">
        <n-radio-group v-model:value="filterLogic">
          <n-radio-button value="AND">ä¸” (AND)</n-radio-button>
          <n-radio-button value="OR">æˆ– (OR)</n-radio-button>
        </n-radio-group>
      </n-form-item>

      <n-form-item label="ç­›é€‰æ¡ä»¶">
        <n-dynamic-tags v-model:value="filters">
          <template #tag="{ tag }">
            <n-space>
              <n-select v-model:value="tag.field" :options="fields" />
              <n-select v-model:value="tag.operator" :options="getOperators(tag.field)" />
              <n-input v-model:value="tag.value" />
            </n-space>
          </template>
        </n-dynamic-tags>
      </n-form-item>

      <n-space justify="end">
        <n-button @click="saveAsPreset">ä¿å­˜ä¸ºé¢„è®¾</n-button>
        <n-button type="primary" @click="applyFilter">åº”ç”¨ç­›é€‰</n-button>
        <n-button @click="resetFilter">é‡ç½®</n-button>
      </n-space>
    </n-form>
  </n-card>
</template>
```

---

#### 2.2 æ‰¹é‡æ“ä½œå¢å¼º
**åŠŸèƒ½**: è¡¨æ ¼å†…æ‰¹é‡ç¼–è¾‘

**å®ç°**:
```vue
<!-- components/BatchEditModal.vue -->
<template>
  <n-modal v-model:show="show" title="æ‰¹é‡ç¼–è¾‘">
    <n-form>
      <n-form-item label="é€‰æ‹©æ“ä½œ">
        <n-select v-model:value="operation" :options="operations">
          <template #render-label="{ option }">
            <n-icon :component="option.icon" />
            {{ option.label }}
          </template>
        </n-select>
      </n-form-item>

      <!-- åŠ¨æ€è¡¨å•,æ ¹æ®é€‰æ‹©çš„æ“ä½œæ˜¾ç¤ºä¸åŒå­—æ®µ -->
      <n-form-item
        v-if="operation === 'updateVip'"
        label="VIP ç­‰çº§"
      >
        <n-select v-model:value="vipLevel" :options="vipLevels" />
      </n-form-item>

      <n-form-item
        v-if="operation === 'extendQuota'"
        label="é…é¢å¢é‡"
      >
        <n-input-number v-model:value="quotaIncrease" :min="0" />
      </n-form-item>

      <!-- é¢„è§ˆå½±å“ -->
      <n-alert type="info">
        å°†å½±å“ <b>{{ selectedRows.length }}</b> æ¡è®°å½•
      </n-alert>
    </n-form>

    <template #footer>
      <n-space justify="end">
        <n-button @click="show = false">å–æ¶ˆ</n-button>
        <n-button type="primary" @click="handleBatchEdit" :loading="loading">
          ç¡®è®¤ä¿®æ”¹
        </n-button>
      </n-space>
    </template>
  </n-modal>
</template>
```

---

#### 2.3 æ•°æ®å¯¼å‡ºå¢å¼º
**åŠŸèƒ½**: Excel/PDF å¯¼å‡º,è‡ªå®šä¹‰å­—æ®µ

**å®ç°**:
```javascript
// utils/export.js
import * as XLSX from 'xlsx'
import jsPDF from 'jspdf'
import 'jspdf-autotable'

export const exportToExcel = (data, filename, columns) => {
  // è‡ªå®šä¹‰å¯¼å‡ºå­—æ®µ
  const customData = data.map(item => {
    const row = {}
    columns.forEach(col => {
      if (col.visible !== false) {
        row[col.label] = item[col.key]
      }
    })
    return row
  })

  // åˆ›å»ºå·¥ä½œç°¿
  const ws = XLSX.utils.json_to_sheet(customData)
  const wb = XLSX.utils.book_new()
  XLSX.utils.book_append_sheet(wb, ws, 'Sheet1')

  // å¯¼å‡º
  XLSX.writeFile(wb, `${filename}.xlsx`)
}

export const exportToPDF = async (data, filename, template) => {
  const doc = new jsPDF()

  // æ·»åŠ æ ‡é¢˜
  doc.setFontSize(18)
  doc.text(template.title, 14, 20)

  // æ·»åŠ è¡¨æ ¼
  doc.autoTable({
    head: [columns.map(c => c.label)],
    body: data.map(item => columns.map(c => item[c.key])),
    startY: 30,
    styles: {
      fontSize: 10,
      cellPadding: 3
    }
  })

  doc.save(`${filename}.pdf`)
}
```

---

#### 2.4 å®æ—¶æ•°æ®æ›´æ–°
**åŠŸèƒ½**: WebSocket å®æ—¶æ¨é€

**å®ç°**:
```javascript
// utils/websocket.js
class WebSocketClient {
  constructor(url) {
    this.ws = new WebSocket(url)
    this.reconnectTimer = null
    this.listeners = new Map()

    this.ws.onmessage = (event) => {
      const data = JSON.parse(event.data)
      this.emit(data.type, data.payload)
    }

    this.ws.onclose = () => {
      console.log('WebSocket è¿æ¥å…³é—­,3ç§’åé‡è¿...')
      this.reconnectTimer = setTimeout(() => this.reconnect(), 3000)
    }
  }

  on(event, callback) {
    if (!this.listeners.has(event)) {
      this.listeners.set(event, [])
    }
    this.listeners.get(event).push(callback)
  }

  emit(event, data) {
    if (this.listeners.has(event)) {
      this.listeners.get(event).forEach(cb => cb(data))
    }
  }
}

// ä½¿ç”¨
const ws = new WebSocketClient('ws://localhost:8080/ws/admin')
ws.on('stats.update', (data) => {
  stats.value = data
})
ws.on('user.notification', (data) => {
  notificationQueue.value.push(data)
})
```

---

### ğŸŸ¢ é˜¶æ®µä¸‰: é«˜çº§ç‰¹æ€§ (P2 - é•¿æœŸè§„åˆ’)

#### 3.1 æƒé™ç®¡ç†ç³»ç»Ÿ
**åŠŸèƒ½**: ç»†ç²’åº¦æƒé™æ§åˆ¶

**è®¾è®¡æ–¹æ¡ˆ**:
```javascript
// permission/permission.js
// æƒé™å®šä¹‰
const PERMISSIONS = {
  USER: {
    READ: 'user:read',
    CREATE: 'user:create',
    UPDATE: 'user:update',
    DELETE: 'user:delete',
    EXPORT: 'user:export',
    BATCH_EDIT: 'user:batch_edit'
  },
  CONTENT: {
    READ: 'content:read',
    AUDIT: 'content:audit',
    PUBLISH: 'content:publish',
    DELETE: 'content:delete'
  },
  AI: {
    VIEW_LOGS: 'ai:view_logs',
    MODIFY_PROMPT: 'ai:modify_prompt',
    RUN_EXPERIMENT: 'ai:run_experiment'
  }
}

// æƒé™æ£€æŸ¥å‡½æ•°
export const hasPermission = (permission) => {
  const userPermissions = JSON.parse(localStorage.getItem('user-permissions') || '[]')
  return userPermissions.includes(permission)
}

// æƒé™æŒ‡ä»¤
export const permissionDirective = {
  mounted(el, binding) {
    const { value } = binding
    if (!hasPermission(value)) {
      el.style.display = 'none'
    }
  }
}

// ä½¿ç”¨
<v-permission="user:delete">
  <n-button @click="deleteUser">åˆ é™¤ç”¨æˆ·</n-button>
</v-permission>
```

---

#### 3.2 å›½é™…åŒ– (i18n)
**åŠŸèƒ½**: å¤šè¯­è¨€æ”¯æŒ

**å®ç°**:
```javascript
// i18n/index.js
import { createI18n } from 'vue-i18n'
import zh_CN from './locales/zh-CN.json'
import en_US from './locales/en-US.json'

const i18n = createI18n({
  legacy: false,
  locale: 'zh_CN',
  fallbackLocale: 'en_US',
  messages: {
    zh_CN,
    en_US
  }
})

// locales/zh-CN.json
{
  "common": {
    "confirm": "ç¡®è®¤",
    "cancel": "å–æ¶ˆ",
    "save": "ä¿å­˜",
    "delete": "åˆ é™¤",
    "edit": "ç¼–è¾‘",
    "export": "å¯¼å‡º",
    "search": "æœç´¢",
    "filter": "ç­›é€‰",
    "refresh": "åˆ·æ–°"
  },
  "user": {
    "title": "ç”¨æˆ·ç®¡ç†",
    "list": "ç”¨æˆ·åˆ—è¡¨",
    "add": "æ·»åŠ ç”¨æˆ·",
    "edit": "ç¼–è¾‘ç”¨æˆ·",
    "delete": "åˆ é™¤ç”¨æˆ·",
    "export": "å¯¼å‡ºç”¨æˆ·"
  }
}
```

---

#### 3.3 ä¸»é¢˜ç³»ç»Ÿ
**åŠŸèƒ½**: æ˜æš—ä¸»é¢˜åˆ‡æ¢,è‡ªå®šä¹‰ä¸»é¢˜

**å®ç°**:
```vue
<!-- components/ThemeSwitcher.vue -->
<template>
  <n-dropdown trigger="hover">
    <template #trigger>
      <n-button circle>
        <template #icon>
          <n-icon v-if="isDark" :component="Sun" />
          <n-icon v-else :component="Moon" />
        </template>
      </n-button>
    </template>

    <n-dropdown-menu>
      <n-dropdown-item @click="toggleTheme">
        <template #icon>
          <n-icon :component="isDark ? Sun : Moon" />
        </template>
        {{ isDark ? 'æµ…è‰²ä¸»é¢˜' : 'æ·±è‰²ä¸»é¢˜' }}
      </n-dropdown-item>

      <n-dropdown-item @click="setPrimaryColor('#6366f1')">
        é›è“è‰²ä¸»é¢˜
      </n-dropdown-item>

      <n-dropdown-item @click="setPrimaryColor('#10b981')">
        ç¿ ç»¿è‰²ä¸»é¢˜
      </n-dropdown-item>
    </n-dropdown-menu>
  </n-dropdown>
</template>

<script setup>
import { computed } from 'vue'
import { darkTheme } from 'naive-ui'

const isDark = computed(() => true) // æ ¹æ®å®é™…çŠ¶æ€

const toggleTheme = () => {
  // åˆ‡æ¢ä¸»é¢˜é€»è¾‘
}
</script>
```

---

#### 3.4 ç¦»çº¿æ”¯æŒ (PWA)
**åŠŸèƒ½**: ç¦»çº¿è®¿é—®,å®‰è£…åˆ°æ¡Œé¢

**å®ç°**:
```javascript
// service-worker.js
const CACHE_NAME = 'learnsphere-admin-v1'
const URLsToCache = [
  '/',
  '/manifest.json',
  '/assets/logo.png',
  '/api/admin/stats'
]

self.addEventListener('install', (event) => {
  event.waitUntil(
    caches.open(CACHE_NAME)
      .then(cache => cache.addAll(URLsToCache))
  )
})

self.addEventListener('fetch', (event) => {
  event.respondWith(
    caches.match(event.request)
      .then(response => response || fetch(event.request))
  )
})

// vite.config.js - PWA æ’ä»¶
import { VitePWA } from 'vite-plugin-pwa'

export default defineConfig({
  plugins: [
    VitePWA({
      registerType: 'autoUpdate',
      workbox: {
        globPatterns: ['**/*.{js,css,html,ico,png,svg}'],
        runtimeCaching: [
          {
            urlPattern: /^https:\/\/api\.example\.com\/.*/,
            handler: 'NetworkFirst',
            options: {
              cacheName: 'api-cache',
              expiration: 10000
            }
          }
        ]
      }
    })
  ]
})
```

---

#### 3.5 é”®ç›˜å¿«æ·é”®ç³»ç»Ÿ
**åŠŸèƒ½**: å…¨å±€å¿«æ·é”®ç®¡ç†

**å®ç°**:
```javascript
// utils/shortcuts.js
import { useHotkeys } from '@vueuse/core'

export const useShortcuts = () => {
  // Ctrl+K - å‘½ä»¤é¢æ¿
  useHotkeys('ctrl+k, cmd+k', (e) => {
    e.preventDefault()
    showCommandPalette.value = true
  })

  // Ctrl+S - ä¿å­˜
  useHotkeys('ctrl+s, cmd+s', (e) => {
    e.preventDefault()
    handleSave()
  })

  // Ctrl+F - æœç´¢
  useHotkeys('ctrl+f, cmd+f', (e) => {
    e.preventDefault()
    focusSearch()
  })

  // ESC - å…³é—­æ¨¡æ€æ¡†
  useHotkeys('escape', () => {
    closeAllModals()
  })

  // æ•°å­—é”® 1-9 - å¿«é€Ÿåˆ‡æ¢æ ‡ç­¾
  for (let i = 1; i <= 9; i++) {
    useHotkeys(`${i}`, () => {
      switchToTab(i - 1)
    })
  }
}
```

---

## ğŸ¨ UI/UX ç»†èŠ‚ä¼˜åŒ–

### 4.1 å¾®äº¤äº’å¢å¼º

#### 4.1.1 æŒ‰é’®æ¶Ÿæ¼ªæ•ˆæœ
```css
/* å¢å¼ºæŒ‰é’®ç‚¹å‡»åé¦ˆ */
.n-button {
  position: relative;
  overflow: hidden;
}

.n-button::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.3);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

.n-button:active::after {
  width: 200%;
  height: 200%;
}
```

#### 4.1.2 å¡ç‰‡æ‚¬æµ®æ•ˆæœ
```css
.stat-card {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.stat-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
  border-color: rgba(99, 102, 241, 0.3);
}
```

---

### 4.2 åŠ è½½çŠ¶æ€ä¼˜åŒ–

#### 4.2.1 æŒ‰é’®åŠ è½½çŠ¶æ€
```vue
<template>
  <n-button
    :loading="loading"
    @click="handleSubmit"
  >
    <template #icon>
      <n-icon v-if="!loading" :component="Save" />
    </template>
    {{ loading ? 'æäº¤ä¸­...' : 'æäº¤' }}
  </n-button>
</template>
```

#### 4.2.2 è¡¨æ ¼åŠ è½½å ä½
```vue
<template>
  <n-data-table
    :loading="loading"
    :pagination="pagination"
    :columns="columns"
    :data="data"
  >
    <template #loading>
      <n-space vertical :size="20">
        <n-skeleton height="40px" width="100%" :sharp="false" :repeat="3" />
      </n-space>
    </template>
  </n-data-table>
</template>
```

---

### 4.3 ç©ºçŠ¶æ€è®¾è®¡

```vue
<!-- components/EmptyState.vue -->
<template>
  <n-empty
    v-if="!loading && data.length === 0"
    :description="emptyText"
    size="large"
  >
    <template #icon>
      <n-icon :component="Inbox" :size="80" />
    </template>

    <template #extra>
      <n-space vertical :size="16">
        <n-text depth="3">{{ emptyHint }}</n-text>
        <n-button type="primary" @click="$emit('create')">
          <template #icon>
            <n-icon :component="Plus" />
          </template>
          {{ createText }}
        </n-button>
      </n-space>
    </template>
  </n-empty>
</template>
```

---

## ğŸ“± ç§»åŠ¨ç«¯ä¸“é¡¹ä¼˜åŒ–

### 5.1 è§¦æ‘¸ä¼˜åŒ–

#### 5.1.1 æ‰‹åŠ¿æ“ä½œ
```javascript
// composables/useGestures.js
import { useSwipe, usePointerSwipe } from '@vueuse/core'

export const useGestures = () => {
  // å·¦æ»‘åˆ é™¤
  const { direction } = useSwipe(target, {
    onSwipeEnd: (e) => {
      if (direction === 'left') {
        showDeleteConfirm.value = true
      }
    },
    threshold: 50
  })

  // ä¸‹æ‹‰åˆ·æ–°
  const { ptrEvents } = usePointerSwipe(containerRef, {
    onSwipeDown: () => {
      refreshData()
    },
    threshold: 100
  })

  return { direction, ptrEvents }
}
```

#### 5.1.2 è§¦æ‘¸åé¦ˆ
```css
/* è§¦è§‰åé¦ˆ */
.button-touch {
  -webkit-tap-highlight-color: rgba(99, 102, 241, 0.2);
  user-select: none;
  touch-action: manipulation;
}

.button-touch:active {
  transform: scale(0.97);
  transition: transform 0.1s;
}
```

---

### 5.2 å“åº”å¼ä¼˜åŒ–

```css
/* ç§»åŠ¨ç«¯ä¸“ç”¨å¸ƒå±€ */
@media (max-width: 768px) {
  /* éšè—æ¬¡è¦å…ƒç´  */
  .desktop-only {
    display: none !important;
  }

  /* è°ƒæ•´é—´è· */
  .n-card {
    margin: 8px 0;
  }

  /* æŒ‰é’®å…¨å®½ */
  .n-button {
    width: 100%;
    margin-bottom: 8px;
  }

  /* è¡¨æ ¼å“åº”å¼ */
  .n-data-table {
    font-size: 12px;
  }

  .n-data-table-th,
  .n-data-table-td {
    padding: 8px 4px;
  }
}
```

---

## ğŸ”§ å¼€å‘ä½“éªŒä¼˜åŒ–

### 6.1 ä»£ç è´¨é‡

#### 6.1.1 TypeScript æ”¯æŒ
```typescript
// ä½¿ç”¨ TypeScript é‡å†™æ ¸å¿ƒç»„ä»¶
interface User {
  id: number
  username: string
  email: string
  vipLevel: number
  createdAt: Date
}

interface ApiResponse<T> {
  code: number
  message: string
  data: T
}

const fetchUsers = async (): Promise<ApiResponse<User[]>> => {
  const res = await api.get('/admin/users')
  return res.data
}
```

#### 6.1.2 å•å…ƒæµ‹è¯•
```javascript
// tests/unit/components/SkeletonLoader.spec.js
import { mount } from '@vue/test-utils'
import { describe, it, expect } from 'vitest'
import SkeletonLoader from '@/components/SkeletonLoader.vue'

describe('SkeletonLoader', () => {
  it('renders table skeleton correctly', () => {
    const wrapper = mount(SkeletonLoader, {
      props: { type: 'table', rows: 5, columns: 6 }
    })

    expect(wrapper.find('.skeleton-table').exists()).toBe(true)
    expect(wrapper.findAll('.skeleton-tr').length).toBe(5)
  })
})
```

---

### 6.2 å¼€å‘å·¥å…·

#### 6.2.1 Vue DevTools é›†æˆ
```javascript
// vite.config.js
export default defineConfig({
  plugins: [
    vueDevTools(),
    // ...
  ]
})
```

#### 6.2.2 ç¯å¢ƒå˜é‡ç®¡ç†
```bash
# .env.development
VITE_API_BASE_URL=http://localhost:8080
VITE_APP_TITLE=LearnSphere ç®¡ç†åå°
VITE_APP_DEBUG=true

# .env.production
VITE_API_BASE_URL=https://api.learnsphere.com
VITE_APP_TITLE=LearnSphere ç®¡ç†åå°
VITE_APP_DEBUG=false
```

---

## ğŸ“Š ç›‘æ§ä¸åˆ†æ

### 7.1 æ€§èƒ½ç›‘æ§

#### 7.1.1 Web Vitals
```javascript
// utils/analytics.js
import { onCLS, onFID, onLCP, onFCP, onTTFB } from 'web-vitals'

const sendToAnalytics = (metric) => {
  // å‘é€åˆ°åˆ†æå¹³å°
  console.log(metric)
}

onCLS(sendToAnalytics)
onFID(sendToAnalytics)
onLCP(sendToAnalytics)
onFCP(sendToAnalytics)
onTTFB(sendToAnalytics)
```

#### 7.1.2 é”™è¯¯è¿½è¸ª
```javascript
// utils/errorTracking.js
import * as Sentry from '@sentry/vue'

Sentry.init({
  dsn: import.meta.env.VITE_SENTRY_DSN,
  environment: import.meta.env.MODE,
  integrations: [
    new Sentry.BrowserTracing({
      traceSamplingRate: 0.1
    })
  ]
})

// å…¨å±€é”™è¯¯å¤„ç†
app.config.errorHandler = (err, instance, info) => {
  Sentry.captureException(err)
  console.error('å…¨å±€é”™è¯¯:', err, info)
}
```

---

### 7.2 ç”¨æˆ·è¡Œä¸ºåˆ†æ

```javascript
// utils/analytics.js
export const trackEvent = (eventName, properties) => {
  // ç”¨æˆ·è¡Œä¸ºè¿½è¸ª
  console.log('Event:', eventName, properties)

  // å‘é€åˆ°åˆ†æå¹³å°
  if (window.gtag) {
    window.gtag('event', eventName, properties)
  }
}

// ä½¿ç”¨ç¤ºä¾‹
trackEvent('user_login', {
  user_id: userId,
  method: 'password'
})

trackEvent('batch_delete', {
  item_type: 'users',
  count: selectedRows.length
})
```

---

## ğŸš€ å®æ–½è®¡åˆ’

### Week 1-2: æ€§èƒ½ä¼˜åŒ–
- [ ] å›¾ç‰‡èµ„æºä¼˜åŒ–
- [ ] API è¯·æ±‚ä¼˜åŒ–
- [ ] é˜²æŠ–èŠ‚æµå®ç°
- [ ] ç¼“å­˜ç­–ç•¥å®æ–½

### Week 3-4: åŠŸèƒ½å¢å¼º
- [ ] é«˜çº§ç­›é€‰ç³»ç»Ÿ
- [ ] æ‰¹é‡æ“ä½œå¢å¼º
- [ ] æ•°æ®å¯¼å‡ºåŠŸèƒ½
- [ ] å®æ—¶æ•°æ®æ›´æ–°

### Week 5-6: UI/UX ä¼˜åŒ–
- [ ] å¾®äº¤äº’åŠ¨ç”»
- [ ] åŠ è½½çŠ¶æ€ä¼˜åŒ–
- [ ] ç©ºçŠ¶æ€è®¾è®¡
- [ ] è§¦æ‘¸ä¼˜åŒ–

### Week 7-8: é«˜çº§ç‰¹æ€§
- [ ] æƒé™ç®¡ç†ç³»ç»Ÿ
- [ ] å›½é™…åŒ–æ”¯æŒ
- [ ] ä¸»é¢˜ç³»ç»Ÿ
- [ ] PWA åŠŸèƒ½

### Week 9-10: æµ‹è¯•ä¸ç›‘æ§
- [ ] å•å…ƒæµ‹è¯•
- [ ] é›†æˆæµ‹è¯•
- [ ] æ€§èƒ½ç›‘æ§
- [ ] ç”¨æˆ·è¡Œä¸ºåˆ†æ

---

## ğŸ“š æŠ€æœ¯æ ˆå‡çº§å»ºè®®

### å‰ç«¯æ¡†æ¶å‡çº§
- Vue 3.3+ (Composition API ä¼˜åŒ–)
- Pinia 2.0+ (çŠ¶æ€ç®¡ç†)
- Vue Router 4.2+ (è·¯ç”±å¢å¼º)

### æ„å»ºå·¥å…·ä¼˜åŒ–
- Vite 5.0+ (æ„å»ºé€Ÿåº¦æå‡)
- Rollup 3.0+ (æ‰“åŒ…ä¼˜åŒ–)

### æ–°å¢æŠ€æœ¯
- TypeScript (ç±»å‹å®‰å…¨)
- Vitest (å•å…ƒæµ‹è¯•)
- Playwright (E2E æµ‹è¯•)
- Storybook (ç»„ä»¶æ–‡æ¡£)

---

## ğŸ¯ æˆåŠŸæŒ‡æ ‡

### æ€§èƒ½æŒ‡æ ‡
- Lighthouse å¾—åˆ† > 90
- é¦–å±åŠ è½½æ—¶é—´ < 1s
- TTI < 1.5s
- CLS < 0.1

### åŠŸèƒ½æŒ‡æ ‡
- PWA å®‰è£…ç‡ > 30%
- ç§»åŠ¨ç«¯è®¿é—®å æ¯” > 40%
- å¹³å‡åœç•™æ—¶é—´ > 5min
- è·³å‡ºç‡ < 20%

### è´¨é‡æŒ‡æ ‡
- å•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 80%
- å…³é”®è·¯å¾„ E2E æµ‹è¯• 100%
- Bug ç‡ < 1%
- ç”¨æˆ·æ»¡æ„åº¦ > 4.5/5.0

---

## ğŸ“– ç›¸å…³æ–‡æ¡£

- [éª¨æ¶å±ä½¿ç”¨æŒ‡å—](../OPTIMIZATION_GUIDE.md)
- [æ»šåŠ¨ä¿®å¤æŒ‡å—](../SCROLL_FIX_GUIDE.md)
- [å†…å®¹æ˜¾ç¤ºä¿®å¤](../CONTENT_DISPLAY_FIX.md)
- [ä¾§è¾¹æ ä¿®å¤](../SIDEBAR_SCROLL_FIX.md)
- [AIæ²»ç†å‡çº§](../AIGOVENANCE_UPGRADE.md)

---

**æ–‡æ¡£ç»´æŠ¤**: æœ¬æ–‡æ¡£éšé¡¹ç›®è¿­ä»£æŒç»­æ›´æ–°

**æœ€åæ›´æ–°**: 2026-02-22

**ç»´æŠ¤è€…**: LearnSphere å¼€å‘å›¢é˜Ÿ
