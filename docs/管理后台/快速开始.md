# ç®¡ç†åå°ä¼˜åŒ–å¿«é€Ÿå®æ–½æŒ‡å—

> **ç›®æ ‡**: åœ¨ 2 å‘¨å†…å®Œæˆå…³é”®ä¼˜åŒ–,æ˜¾è‘—æå‡ç”¨æˆ·ä½“éªŒ

---

## ğŸš€ ç¬¬ä¸€å‘¨: å¿…åšä¼˜åŒ– (Week 1)

### Day 1-2: åŸºç¡€æ€§èƒ½ä¼˜åŒ–

#### âœ… å›¾ç‰‡ä¼˜åŒ–
```bash
# å®‰è£…å›¾ç‰‡ä¼˜åŒ–æ’ä»¶
npm install vite-plugin-imagemin -D
```

**é…ç½® vite.config.js**:
```javascript
import viteImagemin from 'vite-plugin-imagemin'

export default defineConfig({
  plugins: [
    vue(),
    viteImagemin({
      gifsicle: true,
      optipng: true,
      pngquant: true
    })
  ]
})
```

#### âœ… API é˜²æŠ–èŠ‚æµ
```javascript
// composables/useDebounce.js
import { debounce, throttle } from 'lodash-es'

export const useDebounce = () => {
  return {
    search: debounce((value) => {
      console.log('æœç´¢:', value)
    }, 300),

    scroll: throttle(() => {
      console.log('æ»šåŠ¨')
    }, 100)
  }
}
```

---

### Day 3-4: éª¨æ¶å±é›†æˆ

#### åœ¨ Dashboard.vue ä¸­é›†æˆ
```vue
<script setup>
import SkeletonWrapper from '@/components/SkeletonWrapper.vue'
import { ref, onMounted } from 'vue'

const loading = ref(true)
const stats = ref({})

onMounted(async () => {
  await fetchStats()
  loading.value = false
})
</script>

<template>
  <skeleton-wrapper :loading="loading" type="stat">
    <n-grid :cols="4" :x-gap="16">
      <n-grid-item>
        <n-card class="stat-card">
          <n-statistic :value="stats.totalUsers" label="æ€»ç”¨æˆ·æ•°" />
        </n-card>
      </n-grid-item>
    </n-grid>
  </skeleton-wrapper>
</template>
```

#### åœ¨ Users.vue ä¸­é›†æˆ
```vue
<skeleton-wrapper :loading="loading" type="table" :rows="10">
  <n-data-table :columns="columns" :data="users" />
</skeleton-wrapper>
```

---

### Day 5: ç§»åŠ¨ç«¯ä¼˜åŒ–

#### ä¼˜åŒ–è§¦æ‘¸ç›®æ ‡
```css
/* ç¡®ä¿æ‰€æœ‰æŒ‰é’®è‡³å°‘ 44x44px */
.n-button {
  min-height: 44px;
  min-width: 44px;
}

.menu-item {
  min-height: 48px;
  padding: 12px 16px;
}
```

#### æ·»åŠ æ‰‹åŠ¿æç¤º
```vue
<!-- åœ¨ç§»åŠ¨ç«¯å¤´éƒ¨æ·»åŠ ä¸‹æ‹‰æç¤º -->
<div v-if="isMobile" class="pull-hint">
  <n-icon :component="ArrowDown" />
  <span>ä¸‹æ‹‰åˆ·æ–°</span>
</div>
```

---

## ğŸ¯ ç¬¬äºŒå‘¨: åŠŸèƒ½å¢å¼º (Week 2)

### Day 6-7: é«˜çº§ç­›é€‰

#### åˆ›å»ºç­›é€‰ç»„ä»¶
```vue
<!-- components/AdvancedFilter.vue -->
<template>
  <n-card title="é«˜çº§ç­›é€‰">
    <n-space vertical>
      <!-- ç­›é€‰é€»è¾‘ -->
      <n-radio-group v-model:value="logic" size="small">
        <n-radio-button value="AND">ä¸”</n-radio-button>
        <n-radio-button value="OR">æˆ–</n-radio-button>
      </n-radio-group>

      <!-- åŠ¨æ€ç­›é€‰æ¡ä»¶ -->
      <n-dynamic-tags v-model:value="filters">
        <template #tag="{ tag }">
          <n-select
            v-model:value="tag.field"
            :options="fieldOptions"
            size="small"
            style="width: 120px"
          />
          <n-select
            v-model:value="tag.operator"
            :options="getOperators(tag.field)"
            size="small"
            style="width: 100px"
          />
          <n-input
            v-model:value="tag.value"
            size="small"
            placeholder="å€¼"
          />
        </template>
      </n-dynamic-tags>

      <!-- æ“ä½œæŒ‰é’® -->
      <n-space justify="end">
        <n-button size="small" @click="reset">é‡ç½®</n-button>
        <n-button type="primary" size="small" @click="apply">åº”ç”¨ç­›é€‰</n-button>
      </n-space>
    </n-space>
  </n-card>
</template>
```

---

### Day 8-9: æ‰¹é‡æ“ä½œ

#### æ‰¹é‡ç¼–è¾‘æ¨¡æ€æ¡†
```vue
<!-- components/BatchEditModal.vue -->
<template>
  <n-modal v-model:show="show" title="æ‰¹é‡ç¼–è¾‘" style="width: 600px">
    <n-form>
      <n-form-item label="æ“ä½œç±»å‹">
        <n-select v-model:value="operation" :options="operations">
          <option value="updateVip">å‡çº§VIP</option>
          <option value="extendQuota">å¢åŠ é…é¢</option>
          <option value="setStatus">è®¾ç½®çŠ¶æ€</option>
        </n-select>
      </n-form-item>

      <!-- åŠ¨æ€è¡¨å• -->
      <n-form-item
        v-if="operation === 'updateVip'"
        label="VIPç­‰çº§"
      >
        <n-select v-model:value="vipLevel" :options="vipLevels" />
      </n-form-item>
    </n-form>

    <template #footer>
      <n-space justify="end">
        <n-button @click="show = false">å–æ¶ˆ</n-button>
        <n-button
          type="primary"
          @click="handleBatchEdit"
          :loading="loading"
        >
          ç¡®è®¤ä¿®æ”¹ ({{ selectedCount }} æ¡)
        </n-button>
      </n-space>
    </template>
  </n-modal>
</template>
```

---

### Day 10: æ•°æ®å¯¼å‡º

#### Excel å¯¼å‡ºåŠŸèƒ½
```javascript
// utils/export.js
import * as XLSX from 'xlsx'

export const exportUsers = (users, columns) => {
  // è‡ªå®šä¹‰å¯¼å‡ºå­—æ®µ
  const data = users.map(user => ({
    'ç”¨æˆ·ID': user.id,
    'ç”¨æˆ·å': user.username,
    'æ˜µç§°': user.nickname,
    'é‚®ç®±': user.email,
    'VIPç­‰çº§': user.vipLevel || 'æ™®é€š',
    'çŠ¶æ€': user.status === 1 ? 'æ­£å¸¸' : 'ç¦ç”¨',
    'æ³¨å†Œæ—¶é—´': new Date(user.createTime).toLocaleString()
  }))

  // åˆ›å»ºå·¥ä½œè¡¨
  const ws = XLSX.utils.json_to_sheet(data)
  const wb = XLSX.utils.book_new()
  XLSX.utils.book_append_sheet(wb, ws, 'ç”¨æˆ·åˆ—è¡¨')

  // å¯¼å‡º
  XLSX.writeFile(wb, `ç”¨æˆ·åˆ—è¡¨_${new Date().toLocaleDateString()}.xlsx`)
}

// ä½¿ç”¨
<n-button @click="exportUsers(users, columns)">
  <template #icon>
    <n-icon :component="Download" />
  </template>
  å¯¼å‡ºExcel
</n-button>
```

---

## ğŸ“‹ æ£€æŸ¥æ¸…å•

### ç¬¬ä¸€å‘¨æ£€æŸ¥
- [ ] å›¾ç‰‡èµ„æºå·²ä¼˜åŒ–
- [ ] æœç´¢å·²é˜²æŠ– (300ms)
- [ ] Dashboard æœ‰éª¨æ¶å±
- [ ] Users é¡µé¢æœ‰éª¨æ¶å±
- [ ] ç§»åŠ¨ç«¯æŒ‰é’®è‡³å°‘ 44x44px
- [ ] ä¸‹æ‹‰åˆ·æ–°æç¤ºå·²æ·»åŠ 

### ç¬¬äºŒå‘¨æ£€æŸ¥
- [ ] é«˜çº§ç­›é€‰åŠŸèƒ½å·²å®ç°
- [ ] æ‰¹é‡ç¼–è¾‘åŠŸèƒ½å·²å®ç°
- [ ] Excel å¯¼å‡ºåŠŸèƒ½å·²å®ç°
- [ ] æ‰€æœ‰åŠŸèƒ½å·²æµ‹è¯•

---

## ğŸ¯ å³åˆ»å¯è§çš„æ”¹è¿›

### 1. é¦–å±åŠ è½½é€Ÿåº¦ â†‘ 50%
```javascript
// åœ¨ main.js ä¸­é¢„åŠ è½½å…³é”®èµ„æº
const preloadCriticalResources = () => {
  const links = [
    '/fonts/main.woff2',
    '/images/logo.webp'
  ]
  links.forEach(href => {
    const link = document.createElement('link')
    link.rel = 'preload'
    link.as = href.endsWith('.woff2') ? 'font' : 'image'
    link.href = href
    document.head.appendChild(link)
  })
}
preloadCriticalResources()
```

### 2. æœç´¢ä½“éªŒ â†‘ 80%
```javascript
// åœ¨æœç´¢æ¡†ä¸­ä½¿ç”¨é˜²æŠ–
const { handleSearch } = useDebounce()

<n-input
  @input="handleSearch"
  placeholder="æœç´¢ç”¨æˆ·..."
/>
```

### 3. ç§»åŠ¨ç«¯ä½“éªŒ â†‘ 60%
```css
/* æ‰€æœ‰è§¦æ‘¸ç›®æ ‡å¢å¤§ */
.n-button,
.menu-item {
  min-height: 44px;
  padding: 12px 16px;
}

/* è§¦æ‘¸åé¦ˆ */
* {
  -webkit-tap-highlight-color: rgba(99, 102, 241, 0.2);
}
```

---

## ğŸš€ å¿«é€Ÿå‘½ä»¤

### å®‰è£…ä¾èµ–
```bash
npm install lodash-es vite-plugin-imagemin -D
npm install @vueuse/core -D
```

### è¿è¡Œé¡¹ç›®
```bash
npm run dev
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
npm run build
```

### è¿è¡Œæµ‹è¯•
```bash
npm run test
```

---

## ğŸ“ æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜,è¯·æŸ¥çœ‹:
- [å®Œæ•´ä¼˜åŒ–è·¯çº¿å›¾](OPTIMIZATION_ROADMAP.md)
- [éª¨æ¶å±ä½¿ç”¨æŒ‡å—](../OPTIMIZATION_GUIDE.md)
- [æ»šåŠ¨ä¿®å¤æŒ‡å—](../SCROLL_FIX_GUIDE.md)

---

**ç«‹å³å¼€å§‹,2å‘¨åçœ‹åˆ°æ˜¾è‘—æå‡!** ğŸš€
