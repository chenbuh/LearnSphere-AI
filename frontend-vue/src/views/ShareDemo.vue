<template>
  <div class="demo-container">
    <!-- é¡µé¢æ ‡é¢˜ -->
    <div class="demo-header">
      <h1>ğŸ‰ åˆ†äº«åŠŸèƒ½æ¼”ç¤º</h1>
      <p>ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ä½“éªŒåˆ†äº«åŠŸèƒ½</p>
    </div>

    <!-- æ¼”ç¤ºå¡ç‰‡ -->
    <n-grid cols="1 600:2 900:3" x-gap="24" y-gap="24">
      <!-- åœºæ™¯ 1ï¼šå­¦ä¹ å®Œæˆåˆ†äº« -->
      <n-grid-item>
        <n-card 
          title="ğŸ“š å­¦ä¹ å®Œæˆåˆ†äº«" 
          :bordered="false"
          class="demo-card"
        >
          <template #header-extra>
            <n-tag type="success" size="small">æ¨è</n-tag>
          </template>
          <div class="card-content">
            <p class="scenario-desc">
              <strong>åœºæ™¯ï¼š</strong>å®Œæˆé˜…è¯»ç»ƒä¹ ååˆ†äº«æˆç»©
            </p>
            <div class="mock-result">
              <n-icon :component="Trophy" size="48" color="#eab308" />
              <div class="score">æ­£ç¡®ç‡ï¼š95%</div>
            </div>
            <n-button 
              type="primary" 
              block 
              @click="showShare1 = true"
              class="demo-btn"
            >
              <template #icon>
                <lucide-icon name="Share2" :size="16" />
              </template>
              åˆ†äº«å­¦ä¹ æˆæœ
            </n-button>
          </div>
        </n-card>
      </n-grid-item>

      <!-- åœºæ™¯ 2ï¼šä¸ªäººæˆå°±åˆ†äº« -->
      <n-grid-item>
        <n-card 
          title="ğŸ† ä¸ªäººæˆå°±åˆ†äº«" 
          :bordered="false"
          class="demo-card"
        >
          <div class="card-content">
            <p class="scenario-desc">
              <strong>åœºæ™¯ï¼š</strong>åˆ†äº«å­¦ä¹ æ—¶é•¿æˆ–å‹‹ç« 
            </p>
            <div class="mock-achievement">
              <div class="achievement-item">
                <span class="label">æœ¬æœˆå­¦ä¹ </span>
                <span class="value">120 å°æ—¶</span>
              </div>
              <div class="achievement-item">
                <span class="label">è¿ç»­æ‰“å¡</span>
                <span class="value">30 å¤©</span>
              </div>
            </div>
            <n-button 
              type="primary" 
              block 
              @click="showShare2 = true"
              class="demo-btn"
            >
              <template #icon>
                <lucide-icon name="Share2" :size="16" />
              </template>
              åˆ†äº«æˆ‘çš„æˆå°±
            </n-button>
          </div>
        </n-card>
      </n-grid-item>

      <!-- åœºæ™¯ 3ï¼šå¿«é€Ÿåˆ†äº« -->
      <n-grid-item>
        <n-card 
          title="âš¡ å¿«é€Ÿåˆ†äº«" 
          :bordered="false"
          class="demo-card"
        >
          <div class="card-content">
            <p class="scenario-desc">
              <strong>åœºæ™¯ï¼š</strong>ä½¿ç”¨é»˜è®¤é…ç½®å¿«é€Ÿåˆ†äº«
            </p>
            <div class="mock-quick">
              <lucide-icon name="Zap" :size="64" color="#10b981" />
              <p>åˆ†äº«å½“å‰é¡µé¢åˆ°ç¤¾äº¤å¹³å°</p>
            </div>
            <n-button 
              type="primary" 
              block 
              @click="showShare3 = true"
              class="demo-btn"
            >
              <template #icon>
                <lucide-icon name="Share2" :size="16" />
              </template>
              ä¸€é”®åˆ†äº«
            </n-button>
          </div>
        </n-card>
      </n-grid-item>
    </n-grid>

    <!-- æŠ€æœ¯è¯´æ˜ -->
    <n-card 
      title="ğŸ’¡ æŠ€æœ¯è¯´æ˜" 
      :bordered="false"
      class="info-card"
    >
      <n-space vertical :size="16">
        <div class="info-item">
          <h3>
            <lucide-icon name="MessageCircle" :size="20" color="#12B7F5" />
            QQ åˆ†äº«
          </h3>
          <p>ç›´æ¥è·³è½¬åˆ° QQ ç½‘é¡µåˆ†äº«æ¥å£ï¼Œæ”¯æŒè‡ªå®šä¹‰æ ‡é¢˜ã€æè¿°å’Œå›¾ç‰‡</p>
          <n-code language="javascript" :code="qqCode" />
        </div>

        <n-divider />

        <div class="info-item">
          <h3>
            <lucide-icon name="QrCode" :size="20" color="#09BB07" />
            å¾®ä¿¡åˆ†äº«
          </h3>
          <p>ç”ŸæˆäºŒç»´ç è®©ç”¨æˆ·æ‰«ç ï¼ŒPC ç«¯æœ€ä½³å®è·µæ–¹æ¡ˆ</p>
          <n-code language="html" :code="wechatCode" />
        </div>

        <n-divider />

        <div class="info-item">
          <h3>
            <lucide-icon name="Link" :size="20" color="#6366f1" />
            å¤åˆ¶é“¾æ¥
          </h3>
          <p>ä¸€é”®å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œå…¼å®¹ç°ä»£æµè§ˆå™¨å’Œæ—§ç‰ˆæµè§ˆå™¨</p>
          <n-code language="javascript" :code="copyCode" />
        </div>
      </n-space>
    </n-card>

    <!-- åˆ†äº«å¼¹çª— -->
    <ShareModal
      v-model:show="showShare1"
      title="æˆ‘åœ¨ LearnSphere AI å®Œæˆäº†é˜…è¯»ç»ƒä¹ ï¼"
      description="åˆšåˆšé˜…è¯»äº†ã€ŠThe Future of AIã€‹ï¼Œç­”å¯¹ç‡ 95%ï¼Œå¿«æ¥ä¸€èµ·å­¦ä¹ å§ï¼"
    />

    <ShareModal
      v-model:show="showShare2"
      title="æˆ‘çš„å­¦ä¹ æˆå°±"
      description="æœ¬æœˆç´¯è®¡å­¦ä¹  120 å°æ—¶ï¼Œè¿ç»­æ‰“å¡ 30 å¤©ï¼Œä½ ä¹Ÿèƒ½åšåˆ°ï¼"
    />

    <ShareModal
      v-model:show="showShare3"
    />
  </div>
</template>

<script setup>
import { ref } from 'vue'
import { NCard, NGrid, NGridItem, NButton, NTag, NSpace, NDivider, NCode, NIcon } from 'naive-ui'
import ShareModal from '@/components/ShareModal.vue'
import LucideIcon from 'lucide-vue-next'
import { Trophy } from 'lucide-vue-next'

const showShare1 = ref(false)
const showShare2 = ref(false)
const showShare3 = ref(false)

// ä»£ç ç¤ºä¾‹
const qqCode = `const qqShareUrl = \`https://connect.qq.com/widget/shareqq/index.html?url=\${url}&title=\${title}\`
window.open(qqShareUrl, '_blank')`

const wechatCode = `<qrcode-vue 
  :value="shareUrl" 
  :size="220" 
  level="H"
/>`

const copyCode = `await navigator.clipboard.writeText(url)
message.success('é“¾æ¥å·²å¤åˆ¶')`
</script>

<style scoped>
.demo-container {
  max-width: 1200px;
  margin: 40px auto;
  padding: 0 20px;
}

.demo-header {
  text-align: center;
  margin-bottom: 48px;
}

.demo-header h1 {
  font-size: 2.5rem;
  font-weight: 800;
  margin-bottom: 12px;
  background: linear-gradient(120deg, #6366f1, #a855f7);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

.demo-header p {
  font-size: 1.1rem;
  color: var(--n-text-color-2);
}

.demo-card {
  border-radius: 16px;
  background: var(--n-color);
  border: 1px solid var(--n-border-color);
  transition: all 0.3s ease;
  height: 100%;
}

.demo-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 24px rgba(99, 102, 241, 0.15);
}

.card-content {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.scenario-desc {
  color: var(--n-text-color-2);
  font-size: 0.9rem;
  margin: 0;
}

.mock-result {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.75rem;
  padding: 2rem 1rem;
  background: linear-gradient(135deg, rgba(234, 179, 8, 0.05), rgba(234, 179, 8, 0.1));
  border-radius: 12px;
}

.score {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--n-text-color);
}

.mock-achievement {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  padding: 1.5rem;
  background: linear-gradient(135deg, rgba(99, 102, 241, 0.05), rgba(168, 85, 247, 0.05));
  border-radius: 12px;
}

.achievement-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.achievement-item .label {
  color: var(--n-text-color-2);
  font-size: 0.9rem;
}

.achievement-item .value {
  color: var(--n-text-color);
  font-size: 1.25rem;
  font-weight: 700;
}

.mock-quick {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
  padding: 2rem 1rem;
  text-align: center;
}

.mock-quick p {
  margin: 0;
  color: var(--n-text-color-2);
  font-size: 0.9rem;
}

.demo-btn {
  margin-top: auto;
  height: 44px;
  font-weight: 600;
}

.info-card {
  margin-top: 48px;
  border-radius: 16px;
  background: var(--n-color);
  border: 1px solid var(--n-border-color);
}

.info-item h3 {
  display: flex;
  align-items: center;
  gap: 8px;
  margin: 0 0 12px 0;
  font-size: 1.1rem;
  color: var(--n-text-color);
}

.info-item p {
  margin: 0 0 12px 0;
  color: var(--n-text-color-2);
  line-height: 1.6;
}

/* å“åº”å¼ */
@media (max-width: 640px) {
  .demo-header h1 {
    font-size: 1.8rem;
  }

  .demo-header p {
    font-size: 1rem;
  }

  .score {
    font-size: 1.2rem;
  }

  .achievement-item .value {
    font-size: 1.1rem;
  }
}
</style>
